webpackJsonp([5],{"3Lgh":function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".cs_moudle-head{width:100%;font-size:14px;background:#fff;line-height:24px;border-bottom:2px solid #ccc}.cs_moudle-head b{font-size:12px}.cs_moudle-head p{line-height:24px}.cs_moudle-head p span{display:inline-block;cursor:pointer}.cs_moudle-head p span i{border-right:1px solid #e6ebf5;font-size:12px;margin:0 15px}.cs_moudle-head p .is-frist{border-left:none}.cs_moudle-head p .is-active{color:#11a63f;font-weight:700}.cs_moudle-head.noAll p span:first-child i{display:none}",""])},"4pQ/":function(t,e,a){var i=a("nBNq");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("37c2b40a",i,!0)},"5ZdY":function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=a("zlKu"),s=i(l),o=a("vDYm"),r=i(o),n=a("P6LQ"),d=i(n),c=a("UNU2"),u=i(c),f=a("UmnI"),p=null;e.default={props:["operailityData"],data:function(){var t=this;return{rules:f.add,self:!1,loading:!1,resourceHttp:"",knowledgeIds:"",papersArr:[],knowledgeIdArr:[],knowledgeList:[],textbookVersionId:"",textbookVersionList:[],chapterList:[],paperList:[],radio:"",discount:["1","2","3","4","5","6","7","8","9"],loadBtn:{title:"提交",callParEvent:"listenSubEvent"},formValidate:{status:0},addId:{id:"add",title:"选择试卷"},fileList:[],isEdit:null,isSubcall:!1,actionUrl:this.$util.urlPrefix+"/file/uploadImg",subjectList:[{value:"语文"},{value:"数学"},{value:"英语"}],textbook:[],editMessTitle:{type:"edit",callback:"close",successTitle:"修改成功!",errorTitle:"修改失败!",ajaxSuccess:function(e){return t.$emit("edit","edit","修改成功!")},ajaxError:"ajaxError",ajaxParams:{jsonString:!0,url:u.default.modify.path,method:u.default.modify.method}}}},created:function(){this.init()},methods:{init:function(){var t=this;p=this.$util,this.ajax({ajaxSuccess:function(e){t.textbook=e.data,t.ajax({ajaxSuccess:t.getData,ajaxParams:{url:u.default.get.path+"?id="+t.operailityData.id,method:u.default.get.method}})},ajaxParams:{url:u.default.getTextbook.path,method:u.default.getTextbook.method}})},changGrade:function(t){this.subjectList=this.that.$store.getters["app/gradeMap"](t)},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/jpg"===t.type||"image/png"===t.type,a=t.size/1024/1024<2,i=t.size/1024>30;return e||this.$Notice.warning({title:"只能上传图片",desc:"格式为: JPG、png 格式!"}),a||this.$Notice.warning({title:"超出文件大小限制",desc:"上传头像图片 "+t.name+" 太大，不能超过 2MB!"}),i||this.$Notice.warning({title:"文件大小限制",desc:"上传头像图片 "+t.name+" 分辨率太小，不能小于550 * 550像素"}),e&&a&&i},getData:function(t){var e=this;this.resourceHttp=this.$store.getters["app/envs"]("resourceHttp"),"3"==t.data.status?this.isEdit=!1:this.isEdit=!0,"2"==t.data.status?this.isEdit=!1:this.isEdit=!0,this.formValidate=t.data;var a=String(this.formValidate.discount/10);if(a.indexOf(".")<-1?this.formValidate.discount=String(this.formValidate.discount/10):this.self=!0,this.formValidate.unit=String(this.formValidate.unit),this.formValidate.types=String(this.formValidate.types),this.formValidate.stage=String(this.formValidate.stage),this.formValidate.grade=String(this.formValidate.grade),this.paperList=this.formValidate.paperList,this.formValidate.chapterId&&(this.formValidate.chapterId=String(this.formValidate.chapterId)),this.paperList&&this.paperList.map(function(t){e.papersArr.push(t.id)}),this.formValidate.imgs){this.formValidate.imgs.split(",").map(function(t){e.fileList.push({name:t,url:e.resourceHttp+t})})}if(this.formValidate.textbookVersionId){var i=this.formValidate.textbookVersionId.split(",");this.radio=this.formValidate.icon,i.map(function(t){e.textbook.map(function(a){t==a.id&&e.textbookVersionList.push(a)})})}},handleClose:function(t){this.formValidate.paperList.splice(this.formValidate.paperList.indexOf(t),1)},handleCloseText:function(t){this.textbookVersionList.splice(this.textbookVersionList.indexOf(t),1)},getTextbookVersion:function(t){this.textbookVersionId=t.name,this.textbookVersionList.indexOf(t)<0&&this.textbookVersionList.length<11&&this.textbookVersionList.push(t)},getSelectDataForServer:function(){var t=this,e={ajaxSuccess:function(e){t.chapterList=e.data},ajaxError:function(){return t.errorMess("获取数据失败，请重试")},ajaxParams:{url:"textbookContent/queryChapterList",params:{textbookVersionId:this.formValidate.textbookVersionId,grade:this.formValidate.grade,subject:this.formValidate.subject,term:""}}};this.ajax(e)},getknowledgeIds:function(t){this.knowledgeIds=t.name,this.knowledgeList.indexOf(t)>0&&this.knowledgeList.length<11||this.knowledgeList.push(t)},subCallback:function(t){this.addModal=!1,this.isSubcall=!0,this.papersArr=this.papersArr.concat(t.ids),this.formValidate.grade=String(t.grade),this.formValidate.subject=t.subject,this.formValidate.spec=t.ids.length,this.formValidate.papers=p.unique(this.papersArr).join(),this.getKnowledges()},close:function(t){this[t+"Modal"]=!1},getKnowledges:function(){var t=this;this.ajax({ajaxSuccess:function(e){return t.knowledgeIdArr=e.data},ajaxParams:{url:"/papers/queryKnowledgeList?paperIds="+this.formValidate.papers,method:"get"}})},cancle:function(){this.$emit("cancel","edit")},choice:function(){this.addModal=!0},uploadSuccess:function(t,e,a){this.fileList=a,this.fileList.map(function(t){void 0!=t.response&&(t.name=t.response.data)}),this.radio=this.fileList[0].name},submitForm:function(t){var e=!1;return this.$refs[t].validate(function(t){t&&(e=!0)}),e},getImgs:function(){var t=[];this.fileList.map(function(e){void 0!=e.response?e.url=e.response.data:e.url=e.name,t.push(e.url)}),this.formValidate.imgs=t.join(",")},listenSubEvent:function(t){if(this.getImgs(),this.submitForm("formValidate")){this.formValidate.icon=this.radio;var e=[];if(this.textbookVersionList.map(function(t){e.push(t.id)}),0==this.textbookVersionList.length)return this.errorMess("请选择教材！"),!1;if(this.formValidate.textbookVersionId=e.join(),this.formValidate.discount=10*this.formValidate.discount,this.formValidate.currentPrice=Math.round(this.formValidate.originalPrice*this.formValidate.discount),this.formValidate.status="0",!this.isSubcall){var a=[];this.paperList&&this.paperList.map(function(t){a.push(t.id)}),this.formValidate.papers=a.join(",")}delete this.formValidate.paperList,delete this.formValidate.pageSize,delete this.formValidate.curPage,delete this.formValidate.limit,delete this.formValidate.createTime,delete this.formValidate.updateTime,delete this.formValidate.commentNum,delete this.formValidate.productTypes,t||(t=function(){}),t(!0),this.editMessTitle.ajaxParams.data=this.getFormData(this.formValidate),this.ajax(this.editMessTitle,t)}},getFormData:function(t){return p._.defaultsDeep({},t)}},components:{testList:s.default,productTypeOption:r.default,gradeOptionList:d.default}}},"7YNM":function(t,e,a){"use strict";function i(t){a("rb+4")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("saxw"),s=a.n(l),o=a("oNER"),r=a("VU/8"),n=i,d=r(s.a,o.a,!1,n,"data-v-7bd29469",null);e.default=d.exports},"81bE":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.productTypeList,function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})}))},l=[],s={render:i,staticRenderFns:l};e.a=s},"9bBU":function(t,e,a){a("mClu");var i=a("FeBl").Object;t.exports=function(t,e,a){return i.defineProperty(t,e,a)}},AkhL:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"content",staticClass:"moudle-wrap modal clearfix",attrs:{id:"content"}},[a("el-col",[a("div",[a("el-form",{ref:"formValidate",staticClass:"demo-ruleForm",attrs:{inline:!0,rules:t.rules,model:t.formValidate}},[a("el-row",{staticClass:"search-from"},[a("el-form-item",{staticStyle:{"padding-left":"13px"},attrs:{label:"商品状态：",prop:"status"}},[a("el-select",{attrs:{size:"small",placeholder:""},model:{value:t.formValidate.status,callback:function(e){t.$set(t.formValidate,"status",e)},expression:"formValidate.status"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"待审核",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"在售",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"审核驳回",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"下架",value:"3"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"年级：",prop:"grade"}},[a("el-select",{attrs:{size:"small",placeholder:""},on:{change:t.changeGrade},model:{value:t.formValidate.grade,callback:function(e){t.$set(t.formValidate,"grade",e)},expression:"formValidate.grade"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("grade-option-list")],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"科目：",prop:"subject"}},[a("el-select",{attrs:{size:"small",placeholder:""},model:{value:t.formValidate.subject,callback:function(e){t.$set(t.formValidate,"subject",e)},expression:"formValidate.subject"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),t._l(t.subjectList,function(t,e){return a("el-option",{key:e,attrs:{label:t.value,value:t.code}})})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"商品名称：",prop:"title"}},[a("el-input",{attrs:{size:"small",placeholder:"输入商品名称"},model:{value:t.formValidate.title,callback:function(e){t.$set(t.formValidate,"title",e)},expression:"formValidate.title"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"search-btn",attrs:{size:"small"},on:{click:t.searchEvent}},[t._v("搜索\n                        ")])],1)],1),t._v(" "),a("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{span:14}},[a("el-button",{staticClass:"greenButton",attrs:{size:"small"},on:{click:t.add}},[t._v("新增")])],1)],1)],1),t._v(" "),a("div",{ref:"myTable",attrs:{id:"myTable"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{align:"center",context:t.self,height:t.dynamicHt,data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{selectable:t.canDel,type:"selection",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"index",label:"序号",width:"70px","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"商品状态",prop:"status","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t._f("goodsStatus")(e.row.status))+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"title","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"商品编号",align:"center",prop:"no","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"规格",align:"center",prop:"spec","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"单位",align:"center",prop:"unit","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t._f("unit")(e.row.unit))+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"类别",align:"center",prop:"types","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t._f("goodType")(e.row.types))+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"原价(元)",align:"center",prop:"originalPrice","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                      "+t._s(t._f("money")(e.row.originalPrice||0))+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"现价(元)",align:"center",prop:"currentPrice","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                      "+t._s(t._f("money")(e.row.currentPrice||0))+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"销量",align:"center",prop:"sales","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"折扣",align:"center",prop:"discount","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.row.discount/10==10?"不打":e.row.discount/10)+"折\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"添加时间",align:"center",prop:"createTime","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t._f("formatDate")(e.row.createTime,"yyyy-MM-dd HH:mm"))+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"360"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"tableMakeItem",attrs:{size:"small"},on:{click:function(a){t.show(e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{staticClass:"tableMakeItem",attrs:{disabled:"0"==e.row.status,size:"small"},on:{click:function(a){t.edit(e.row)}}},[t._v("修改\n                        ")]),t._v(" "),a("el-button",{staticClass:"tableMakeItem",attrs:{disabled:"1"!=e.row.status,size:"small"},on:{click:function(a){t.down(e.row)}}},[t._v("下架\n                        ")]),t._v(" "),a("el-button",{staticClass:"tableMakeItem",attrs:{disabled:"3"!=e.row.status,size:"small"},on:{click:function(a){t.up(e.row)}}},[t._v("上架\n                        ")])]}}])})],1),t._v(" "),a("div",{staticStyle:{margin:"10px 50px 10px 0"}},[a("el-button",{staticClass:"deleteButton",attrs:{disabled:"0"==t.multipleSelection.length,size:"small"},on:{click:function(e){t.down("")}}},[t._v("批量下架\n              ")]),t._v(" "),a("div",{staticStyle:{float:"right"}},[a("el-pagination",{attrs:{"current-page":t.myPages.currentPage,"page-size":t.myPages.pageSize,layout:"total,prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.changePageSize,"current-change":t.changePage,"update:currentPage":function(e){t.$set(t.myPages,"currentPage",e)}}})],1)],1)],1)]),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"1000",title:"添加商品","class-name":"vertical-center-modal",loading:t.loading},model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[a("modal-header",{attrs:{slot:"header",content:t.addId},slot:"header"}),t._v(" "),t.addModal?a("add",{on:{cancel:t.cancel,add:t.subCallback}}):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"1000",title:"添加商品","class-name":"vertical-center-modal",loading:t.loading},model:{value:t.editModal,callback:function(e){t.editModal=e},expression:"editModal"}},[a("modal-header",{attrs:{slot:"header",content:t.editId},slot:"header"}),t._v(" "),t.editModal?a("edit",{attrs:{"operaility-data":t.operailityData},on:{cancel:t.cancel,edit:t.subCallback}}):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"1000",title:"添加商品","class-name":"vertical-center-modal",loading:t.loading},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("modal-header",{attrs:{slot:"header",content:t.showId},slot:"header"}),t._v(" "),t.showModal?a("show",{attrs:{"operaility-data":t.operailityData},on:{cancel:t.cancel,show:t.subCallback}}):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)},l=[],s={render:i,staticRenderFns:l};e.a=s},Anx3:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".cggs-content .img-wrap{display:inline-block;height:150px}.cggs-content .img-wrap img{margin-right:20px}.cggs-content .img{position:absolute;right:28px;top:64px}.cggs-content .el-input{width:60%}.cggs-content .el-form-item img{width:100px}",""])},B5Tp:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,"",""])},BAD5:function(t,e,a){var i=a("Bk6Y");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("07565c1d",i,!0)},BDJb:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{onlyUploadShowWell:t.show,onlyOnePic:t.onlyOnePic,noFile:t.show&&!t.fileList.length}},[a("el-upload",{attrs:{action:t.action,"list-type":"picture-card","file-list":t.fileLists,"on-preview":t.handlePictureCardPreview,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload,"on-error":t.onError,headers:t.headers,"on-remove":t.handleRemove}},[t.show?t._e():a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{size:"tiny",modal:!1},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},l=[],s={render:i,staticRenderFns:l};e.a=s},Bk6Y:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".cggg-content .table-title{text-align:center;line-height:40px;font-size:20px;margin-top:20px}.cggg-content img{position:absolute;right:28px;top:64px}",""])},C4MV:function(t,e,a){t.exports={default:a("9bBU"),__esModule:!0}},C80P:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cs_moudle-head",class:{noAll:!t.hasAll},staticStyle:{padding:"10px 0"}},[~t.showItem.indexOf("textbookVersion")?a("p",[a("b",[t._v("教材：")]),t._v(" "),t.hasAll?a("span",{class:""==t.select.textbookVersion?"is-active":"",on:{click:function(e){t.changeMoudle("textbookVersion")}}},[t._v("全部")]):t._e(),t._v(" "),t._l(t.textbookVersionList,function(e,i){return a("span",{key:i,class:t.select.textbookVersion==i?"is-active":"",on:{click:function(e){t.changeMoudle("textbookVersion",i)}}},[a("i"),t._v(t._s(e.name))])}),t._v(" "),t.hasAll||t.textbookVersionList?t._e():[t._v("\n              暂无教材\n          ")]],2):t._e(),t._v(" "),~t.showItem.indexOf("grade")?a("p",[a("b",[t._v("年级：")]),t._v(" "),t.hasAll?a("span",{class:""===t.select.grade?"is-active":"",on:{click:function(e){t.changeMoudle("grade")}}},[t._v("全部")]):t._e(),t._v(" "),t._l(12,function(e){return a("span",{key:e,class:t.select.grade==e?"is-active":"",on:{click:function(a){t.changeMoudle("grade",e)}}},[a("i"),t._v(t._s(t._f("grade")(e)))])})],2):t._e(),t._v(" "),~t.showItem.indexOf("subject")?a("p",[a("b",[t._v("科目：")]),t._v(" "),t.hasAll?a("span",{class:""==t.select.subject?"is-active":"",on:{click:function(e){t.changeMoudle("subject")}}},[t._v("全部")]):t._e(),t._v(" "),t._l(t.subjectList,function(e,i){return a("span",{key:i,class:t.select.subject==e.code?"is-active":"",on:{click:function(a){t.changeMoudle("subject",e.code)}}},[a("i"),t._v(t._s(e.value))])}),t._v(" "),t.hasAll||t.subjectList?t._e():[t._v("\n              暂无科目\n          ")]],2):t._e(),t._v(" "),~t.showItem.indexOf("term")?a("p",[a("b",[t._v("学期：")]),t._v(" "),t.hasAll?a("span",{class:""===t.select.term?"is-active":"",on:{click:function(e){t.changeMoudle("term")}}},[t._v("全部")]):t._e(),t._v(" "),t._l(2,function(e){return a("span",{key:e,class:t.select.term===e-1?"is-active":"",on:{click:function(a){t.changeMoudle("term",e-1)}}},[a("i"),t._v(t._s(t._f("term")(e-1)))])})],2):t._e(),t._v(" "),~t.showItem.indexOf("chapter")?a("p",[a("b",[t._v("章节：")]),t._v(" "),t.hasAll?a("span",{class:""==t.select.chapter?"is-active":"",on:{click:function(e){t.changeMoudle("chapter")}}},[t._v("全部")]):t._e(),t._v(" "),t._l(t.chapterList,function(e,i){return a("span",{key:i,class:t.select.chapter==i?"is-active":"",on:{click:function(e){t.changeMoudle("chapter",i)}}},[a("i"),t._v(t._s(e.name))])}),t._v(" "),t.hasAll||t.chapterList?t._e():[t._v("\n              暂无章节\n          ")]],2):t._e()])},l=[],s={render:i,staticRenderFns:l};e.a=s},CGzv:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"formValidate",attrs:{rules:t.rules,model:t.formValidate,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品标题：",prop:"title"}},[a("el-input",{attrs:{size:"small"},model:{value:t.formValidate.title,callback:function(e){t.$set(t.formValidate,"title",e)},expression:"formValidate.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品副标题：",prop:"subtitle"}},[a("el-input",{attrs:{size:"small"},model:{value:t.formValidate.subtitle,callback:function(e){t.$set(t.formValidate,"subtitle",e)},expression:"formValidate.subtitle"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"出版社：",prop:"press"}},[a("el-input",{attrs:{size:"small"},model:{value:t.formValidate.press,callback:function(e){t.$set(t.formValidate,"press",e)},expression:"formValidate.press"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品类型",prop:"types"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:t.formValidate.types,callback:function(e){t.$set(t.formValidate,"types",e)},expression:"formValidate.types"}},[a("product-type-option")],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"商品价格",prop:"originalPrice"}},[a("el-input",{model:{value:t.formValidate.originalPrice,callback:function(e){t.$set(t.formValidate,"originalPrice",e)},expression:"formValidate.originalPrice"}}),t._v("\n            元\n        ")],1),t._v(" "),a("el-form-item",{attrs:{label:"折扣（折）",prop:"discount"}},[t.self?a("el-input",{staticClass:"item",staticStyle:{width:"195px"},attrs:{placeholder:"请输入折扣 0.0"},model:{value:t.formValidate.discount,callback:function(e){t.$set(t.formValidate,"discount",e)},expression:"formValidate.discount"}}):a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:t.formValidate.discount,callback:function(e){t.$set(t.formValidate,"discount",e)},expression:"formValidate.discount"}},[a("el-option",{attrs:{label:"不打折",value:"10"}}),t._v(" "),a("el-option",{attrs:{label:"1折",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"2折",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"3折",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"4折",value:"4"}}),t._v(" "),a("el-option",{attrs:{label:"5折",value:"5"}}),t._v(" "),a("el-option",{attrs:{label:"6折",value:"6"}}),t._v(" "),a("el-option",{attrs:{label:"7折",value:"7"}}),t._v(" "),a("el-option",{attrs:{label:"8折",value:"8"}}),t._v(" "),a("el-option",{attrs:{label:"9折",value:"9"}})],1),t._v(" "),a("el-button",{on:{click:function(e){t.self=!t.self}}},[t._v("自定义")])],1),t._v(" "),a("el-form-item",{attrs:{label:"商品单位：",prop:"unit"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:t.formValidate.unit,callback:function(e){t.$set(t.formValidate,"unit",e)},expression:"formValidate.unit"}},[a("el-option",{attrs:{label:"套",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"份",value:"1"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"阶段：",prop:"stage"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择"},on:{change:t.stageChange},model:{value:t.formValidate.stage,callback:function(e){t.$set(t.formValidate,"stage",e)},expression:"formValidate.stage"}},[a("el-option",{attrs:{label:"小学",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"初中",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"高中",value:"2"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"销量：",prop:"sales"}},[a("el-input",{staticClass:"item",attrs:{size:"small"},model:{value:t.formValidate.sales,callback:function(e){t.$set(t.formValidate,"sales",e)},expression:"formValidate.sales"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"试题选择："}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.choice}},[t._v("从试题库中选择")]),t._v(" "),""!=t.formValidate.papers?a("i",{staticClass:"el-icon-success"},[t._v("已选择试卷")]):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"商品规格：",prop:"spec"}},[a("el-input",{staticClass:"item",attrs:{size:"small",disabled:!0},model:{value:t.formValidate.spec,callback:function(e){t.$set(t.formValidate,"spec",e)},expression:"formValidate.spec"}}),t._v("\n            张试卷\n        ")],1),t._v(" "),a("el-form-item",{attrs:{label:"商品图片："}},[a("el-upload",{attrs:{action:t.actionUrl,"list-type":"picture-card","before-upload":t.beforeAvatarUpload,"show-file-list":"",limit:4,"on-success":t.uploadSuccess}},[a("i",{staticClass:"el-icon-plus"}),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，图片分辨率不小于550*550且不超过2M")])]),t._v(" "),t._l(t.fileList,function(e,i){return a("el-radio",{key:i,staticStyle:{"margin-left":"48px"},attrs:{label:e.response},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("设置为主图\n            ")])})],2),t._v(" "),a("el-form-item",{attrs:{label:"商品介绍：",prop:"remark"}},[a("el-input",{attrs:{size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.remark,callback:function(e){t.$set(t.formValidate,"remark",e)},expression:"formValidate.remark"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品内容：",prop:"content"}},[a("el-input",{attrs:{size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.content,callback:function(e){t.$set(t.formValidate,"content",e)},expression:"formValidate.content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品目标：",prop:"target"}},[a("el-input",{attrs:{size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.target,callback:function(e){t.$set(t.formValidate,"target",e)},expression:"formValidate.target"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品优势：",prop:"advantage"}},[a("el-input",{attrs:{size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.advantage,callback:function(e){t.$set(t.formValidate,"advantage",e)},expression:"formValidate.advantage"}})],1),t._v(" "),a("p",{staticClass:"title"},[t._v("添加至：")]),t._v(" "),a("el-form-item",{attrs:{label:"教材："}},[a("el-select",{attrs:{size:"small",filterable:"",placeholder:"请选择"},on:{change:t.getTextbookVersion},model:{value:t.textbookVersionId,callback:function(e){t.textbookVersionId=e},expression:"textbookVersionId"}},t._l(t.textbook,function(t,e){return a("el-option",{key:t.id,attrs:{label:t.name,value:t}})})),t._v(" "),a("br"),t._v(" "),t._l(t.textbookVersionList,function(e){return a("el-tag",{key:e.id,attrs:{closable:""},on:{close:function(a){t.handleClose(e)}}},[t._v("\n                "+t._s(e.name)+"\n            ")])})],2),t._v(" "),a("el-form-item",{attrs:{label:"年级：",prop:"grade"}},[a("el-select",{attrs:{size:"small",placeholder:""},on:{change:t.changGrade},model:{value:t.formValidate.grade,callback:function(e){t.$set(t.formValidate,"grade",e)},expression:"formValidate.grade"}},[a("grade-option-list")],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"科目："}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.changeSubject},model:{value:t.formValidate.subject,callback:function(e){t.$set(t.formValidate,"subject",e)},expression:"formValidate.subject"}},t._l(t.subjectList,function(t,e){return a("el-option",{key:e,attrs:{label:t.value,value:t.code}})}))],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("load-btn",{attrs:{btnData:t.loadBtn},on:{listenSubEvent:t.listenSubEvent}}),t._v(" "),a("el-button",{staticClass:"tableMakeItemCancel",attrs:{size:"small"},on:{click:t.cancle}},[t._v("取消")])],1)],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"1100",title:"添加商品","class-name":"vertical-center-modal",loading:t.loading},model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[a("modal-header",{attrs:{slot:"header",content:t.addId},slot:"header"}),t._v(" "),t.addModal?a("test-list",{attrs:{papers:t.formValidate.papers},on:{cancel:t.close,choice:t.subCallback}}):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)},l=[],s={render:i,staticRenderFns:l};e.a=s},"Efy/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{showItems:{type:Array,default:function(){return[]}},selectItems:{type:Object,default:function(){return{}}},disSel:{type:Array,default:function(){return[]}},hasAll:{type:Boolean,default:!0}},data:function(){return{allSubject:{},allChapter:{},showItem:["textbookVersion","grade","term","subject","chapter"],getDataItem:["textbookVersion"],textbookVersionList:null,subjectList:null,chapterList:null,select:{textbookVersion:"",grade:"",term:"",subject:"",chapter:""},api:{textbookVersion:"textbook/version/all",chapter:"textbookContent/queryChapterList"}}},methods:{init:function(){var t=this,e=!1;for(var a in this.selectItems)this.select[a]=this.selectItems[a],"grade"===a&&this.changeGradeCall(),e=!0;e&&this.getChapterDataForServer(),this.showItems.length&&(this.showItem=this.showItems),this.showItem.map(function(e){return~t.getDataItem.indexOf(e)&&t.getSelectDataForServer(e)})},getSelectDataForServer:function(t,e,a){var i=this,l={ajaxSuccess:function(e){var l={};e.data instanceof Array&&e.data.length?e.data.map(function(t){return l[t.id]=t}):l=null,i[t+"List"]=l,a&&a(l)},ajaxError:function(){return i.errorMess("获取数据失败，请重试")},ajaxParams:{url:this.api[t],params:e}};this.ajax(l)},getChapterDataForServer:function(){var t=this;if(~this.showItem.indexOf("chapter")){this.select.chapter="";var e=this.select,a=e.textbookVersion,i=e.grade,l=e.term,s=e.subject;if(!a||!i||""===l||!s)return void(this.chapterList=null);var o=[a,i,l,s],r=this.allChapter[o.join("-")];r?this.chapterList=this.$util.getFormData(r):this.getSelectDataForServer("chapter",{textbookVersionId:a,grade:i,subject:this.subjectList[s].code,term:l},function(e){t.allChapter[o.join("-")]=e;for(var a in e){t.select.chapter||t.changeMoudle("chapter","");break}})}},changeGradeCall:function(){if(!this.select.grade)return void(this.subjectList=null);if(this.select.subject="",this.allSubject[this.select.grade])this.subjectList=this.$util.getFormData(this.allSubject[this.select.grade]);else{var t=this.$store.getters["app/gradeMap"](this.select.grade),e={};t.map(function(t){return e[t.code]=t}),this.subjectList=e,this.allSubject[this.select.grade]=e}this.getChapterDataForServer()},changeMoudle:function(t,e){var a=this;if(!~this.disSel.indexOf(t)&&(this.select[t]!==e||""===e)){this.select[t]=void 0!==e?e:"";var i=this["change"+t.replace(/^\w/,t[0].toLocaleUpperCase())+"Call"];"function"==typeof i?i():"chapter"!==t&&this.getChapterDataForServer();var l={};this.showItem.map(function(t){return l[t]=a.getSelectData(t)}),this.$emit("change",l,this.select)}},getSelectData:function(t){return this[t+"List"]&&this[t+"List"][this.select[t]]||this.select[t]}},created:function(){this.init()}}},EyUv:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"integralManageBox"},[t.formValidate.icon?a("img",{staticClass:"img",attrs:{src:t.resourceHttp+t.formValidate.icon,alt:"",width:"260",height:"300"}}):t._e(),t._v(" "),a("el-form",{ref:"formValidate",attrs:{model:t.formValidate,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品标题："}},[t._v("\n            "+t._s(t.formValidate.title)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"商品副标题："}},[t._v("\n            "+t._s(t.formValidate.subtitle)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"出版社："}},[t._v("\n            "+t._s(t.formValidate.press)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"商品编号："}},[t._v("\n            "+t._s(t.formValidate.no)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"价格："}},[t._v("\n            "+t._s(t.formValidate.originalPrice)+"积分\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"销量："}},[t._v("\n            "+t._s(t.formValidate.sales)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"规格："}},[t._v("\n            "+t._s(t.formValidate.spec)+"\n        ")]),t._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.show}},[t._v("查看评价")])],1),t._v(" "),a("el-form-item",{attrs:{label:"商品图片："}},[t.formValidate.imgs?a("div",{staticClass:"img-wrap"},t._l(t.formValidate.imgs,function(e,i){return a("img",{key:i,attrs:{src:t.resourceHttp+e,alt:"",width:"100",height:"120"}})})):a("span",[t._v("无商品图片")])]),t._v(" "),a("el-form-item",{attrs:{label:"商品介绍："}},[a("el-input",{attrs:{disabled:"",size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.remark,callback:function(e){t.$set(t.formValidate,"remark",e)},expression:"formValidate.remark"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品内容："}},[a("el-input",{attrs:{disabled:"",size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.content,callback:function(e){t.$set(t.formValidate,"content",e)},expression:"formValidate.content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品目标："}},[a("el-input",{attrs:{disabled:"",size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.target,callback:function(e){t.$set(t.formValidate,"target",e)},expression:"formValidate.target"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品优势："}},[a("el-input",{attrs:{disabled:"",size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.advantage,callback:function(e){t.$set(t.formValidate,"advantage",e)},expression:"formValidate.advantage"}})],1)],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"1000",title:"添加商品","class-name":"vertical-center-modal"},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("modal-header",{attrs:{slot:"header",content:t.showId},slot:"header"}),t._v(" "),t.showModal?a("show",{attrs:{"operaility-data":t.formValidate},on:{cancel:t.cancel}}):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)},l=[],s={render:i,staticRenderFns:l};e.a=s},FM24:function(t,e,a){"use strict";function i(t){a("spsR")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("HxEy"),s=a.n(l),o=a("WMSM"),r=a("VU/8"),n=i,d=r(s.a,o.a,!1,n,"data-v-3277adfd",null);e.default=d.exports},FYyG:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.gradeList,function(e,i){return a("el-option",{key:i,attrs:{label:t._f("grade")(i),value:i}})}))},l=[],s={render:i,staticRenderFns:l};e.a=s},GPk1:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=null;e.default={data:function(){return{productTypeList:[]}},methods:{init:function(){i=this.$util,this.productTypeList=this.$store.getters["app/envs"]("productTypeList")}},created:function(){this.init()},mounted:function(){},components:{}}},HxEy:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=a("woOf"),s=i(l),o=a("7YNM"),r=i(o),n=a("XJxW"),d=i(n),c=a("bEEB"),u=i(c),f=a("YBhn"),p=i(f),m=a("UmnI"),h=null;e.default={data:function(){return{rules:m.list,subjectList:[{value:"语文"},{value:"数学"},{value:"英语"}],self:this,totalCount:0,loading:!1,dynamicHt:100,multipleSelection:[],operailityData:{},tableData:[],formValidate:{status:"",name:"",subject:"",grade:""},downUrl:p.default.down.path,upUrl:p.default.up.path,addId:{id:"add",title:"添加商品"},editId:{id:"edit",title:"修改商品"},showId:{id:"show",title:"查看商品"}}},created:function(){this.init()},methods:{init:function(){h=this.$util,this.subjectList=this.$store.getters["app/gradeMap"](12),this.myPages=h.pageInitPrams,this.queryQptions={url:p.default.list.path,params:{curPage:1,pageSize:h.pageInitPrams.pageSize}},this.setTableData()},changeGrade:function(t){this.subjectList=""!=t?this.$store.getters["app/gradeMap"](t):this.$store.getters["app/gradeMap"](12)},handleSelectionChange:function(t){this.multipleSelection=t},canDel:function(t){return 1==t.status},setTableData:function(t){(0,s.default)(this.queryQptions.params,this.formValidate),this.ajax({ajaxSuccess:"listDataSuccess",ajaxParams:this.queryQptions},t)},listDataSuccess:function(t,e,a){this.totalCount=t.data.totalCount||0,this.tableData=this.addIndex(t.data.dataList||[])},materialChange:function(t){},show:function(t){this.operailityData=t,this.openModel("show")},edit:function(t){this.operailityData=t,this.openModel("edit")},add:function(){this.openModel("add")},searchEvent:function(){this.handleSubmit("formValidate")&&this.setTableData()},handleSubmit:function(t){var e=this,a=!1;return this.$refs[t].validate(function(t){t?a=!0:e.errorMess("表单验证失败!")}),a},down:function(t){var e=this;h.todoConfirm({title:"确定下架该商品吗？",content:{id:"todoId",title:"下架"},data:{data:{ids:h.getStrByArr(t?[t]:this.multipleSelection,"id")},api:p.default.down,msg:"下架"},close:function(){e.subCallback()},confirm:function(t){}})},up:function(t){var e=this;h.todoConfirm({title:"确定上架该商品吗？",content:{id:"todoId",title:"上架"},data:{data:{ids:h.getStrByArr(t?[t]:this.multipleSelection,"id")},api:p.default.up,msg:"上架"},close:function(){e.subCallback()},confirm:function(t){}})},isSelected:function(t){var e=this.multipleSelection.length,a=!0;return 0==e&&(this.showMess("请选择数据!"),a=!1),a},setTableDynHeight:function(){var t=this.$refs.content,e=t.parentNode.offsetHeight,a=this.$refs.myTable;this.dynamicHt=e-a.offsetTop-105,this.$refs.myTable.style.height=this.dynamicHt+"px"},cancel:function(t){this[t+"Modal"]=!1},subCallback:function(t,e,a){this.cancel(t),e&&this.successMess(e),a||this.setTableData()},openModel:function(t){this[t+"Modal"]=!0}},mounted:function(){this.$nextTick(function(){this.setTableDynHeight(),h.events.addHandler(window,"resize",this.setTableDynHeight)})},components:{add:r.default,show:d.default,edit:u.default}}},IMYR:function(t,e,a){var i=a("u6zY");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("27b0a21a",i,!0)},J378:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=a("woOf"),s=i(l),o=a("ZGi5"),r=i(o),n=a("Nq6h"),d=i(n),c=a("d/TY"),u=i(c),f=a("P6LQ"),p=i(f),m=a("UNU2"),h=i(m),v=a("UmnI"),b=null;e.default={data:function(){return{rules:v.list,self:this,totalCount:0,loading:!1,dynamicHt:100,multipleSelection:[],operailityData:{},tableData:[],formValidate:{status:"",grade:"",name:"",subject:""},subjectList:[],addId:{id:"add",title:"添加商品"},editId:{id:"edit",title:"修改商品"},showId:{id:"show",title:"查看商品"}}},created:function(){this.init()},methods:{init:function(){b=this.$util,this.subjectList=this.$store.getters["app/gradeMap"](12),this.myPages=b.pageInitPrams,this.queryQptions={url:h.default.list.path,params:{curPage:1,pageSize:b.pageInitPrams.pageSize}},this.setTableData()},changeGrade:function(t){this.formValidate.subject="",this.subjectList=""!=t?this.$store.getters["app/gradeMap"](t):this.$store.getters["app/gradeMap"](12)},handleSelectionChange:function(t){this.multipleSelection=t},setTableData:function(t){(0,s.default)(this.queryQptions.params,this.formValidate),this.ajax({ajaxSuccess:"listDataSuccess",ajaxParams:this.queryQptions},t)},canDel:function(t){return 1==t.status},listDataSuccess:function(t,e,a){this.totalCount=t.data.totalCount||0,this.tableData=this.addIndex(t.data.dataList||[])},materialChange:function(t){},show:function(t){this.operailityData=t,this.openModel("show")},edit:function(t){this.operailityData=t,this.openModel("edit")},searchEvent:function(){this.handleSubmit("formValidate")&&this.setTableData()},handleSubmit:function(t){var e=this,a=!1;return this.$refs[t].validate(function(t){t?a=!0:e.errorMess("表单验证失败!")}),a},add:function(){this.openModel("add")},down:function(t){var e=this;b.todoConfirm({title:"确定下架该商品吗？",content:{id:"todoId",title:"下架"},data:{data:{ids:b.getStrByArr(t?[t]:this.multipleSelection,"id")},api:h.default.down,msg:"下架"},close:function(){e.subCallback()},confirm:function(t){}})},up:function(t){var e=this;b.todoConfirm({title:"确定上架该商品吗？",content:{id:"todoId",title:"上架"},data:{data:{ids:b.getStrByArr(t?[t]:this.multipleSelection,"id")},api:h.default.up,msg:"上架"},close:function(){e.subCallback()},confirm:function(t){}})},isSelected:function(t){var e=this.multipleSelection.length,a=!0;return 0==e&&(this.showMess("请选择数据!"),a=!1),a},setTableDynHeight:function(){var t=this.$refs.content,e=t.parentNode.offsetHeight,a=this.$refs.myTable;this.dynamicHt=e-a.offsetTop-105,this.$refs.myTable.style.height=this.dynamicHt+"px"},cancel:function(t){this[t+"Modal"]=!1},subCallback:function(t,e,a){this.cancel(t),e&&this.successMess(e),a||this.setTableData()},openModel:function(t){this[t+"Modal"]=!0}},mounted:function(){this.$nextTick(function(){this.setTableDynHeight(),b.events.addHandler(window,"resize",this.setTableDynHeight)})},components:{add:r.default,show:d.default,edit:u.default,gradeOptionList:p.default}}},L8D0:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".integralManageBox .img{position:absolute;right:28px;top:64px}.integralManageBox .img-wrap{display:inline-block;height:150px}.integralManageBox .img-wrap img{margin-right:20px}.integralManageBox .el-input{width:60%}.integralManageBox .el-form-item img{width:100px}",""])},NC3v:function(t,e,a){var i=a("Anx3");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("0a928378",i,!0)},NlTA:function(t,e,a){"use strict";function i(t){a("YHX4")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("J378"),s=a.n(l),o=a("AkhL"),r=a("VU/8"),n=i,d=r(s.a,o.a,!1,n,"data-v-4abba884",null);e.default=d.exports},Nq6h:function(t,e,a){"use strict";function i(t){a("NC3v")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("raEb"),s=a.n(l),o=a("up53"),r=a("VU/8"),n=i,d=r(s.a,o.a,!1,n,null,null);e.default=d.exports},ONPJ:function(t,e,a){"use strict";function i(t){a("tkUg")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("Q+ML"),s=a.n(l),o=a("dQ+Z"),r=a("VU/8"),n=i,d=r(s.a,o.a,!1,n,null,null);e.default=d.exports},P6LQ:function(t,e,a){"use strict";function i(t){a("pgv1")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("uh4x"),s=a.n(l),o=a("FYyG"),r=a("VU/8"),n=i,d=r(s.a,o.a,!1,n,null,null);e.default=d.exports},"Q+ML":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("UNU2"),l=function(t){return t&&t.__esModule?t:{default:t}}(i),s=null;e.default={props:["operailityData"],data:function(){return{resourceHttp:"",formValidate:this.operailityData,tableData:[],CommentData:[]}},created:function(){this.init()},methods:{init:function(){s=this.$util,this.resourceHttp=this.$store.getters["app/envs"]("resourceHttp"),this.ajax({ajaxSuccess:this.getStatisticsList,ajaxParams:{url:l.default.statistics.path+"?types=0&productId="+this.operailityData.id,method:l.default.statistics.method}}),this.ajax({ajaxSuccess:this.getCommentList,ajaxParams:{url:l.default.commentList.path+"?types=0&productId="+this.operailityData.id,method:l.default.commentList.method}})},getStatisticsList:function(t){t.data instanceof Object&&(this.tableData.push(t.data.positive),this.tableData[0].name="好评",this.tableData.push(t.data.moderate),this.tableData[1].name="中评",this.tableData.push(t.data.negative),this.tableData[2].name="差评")},getCommentList:function(t){this.CommentData=t.data.dataList},pass:function(t){var e=this;s.todoConfirm({title:"确定通过该评论吗？",content:{id:"todoId",title:"通过"},data:{data:{id:s.getStrByArr([t],"id"),types:"0"},api:l.default.audit,msg:"通过"},close:function(){e.init()},confirm:function(t){}})},remove:function(t){var e=this;s.todoConfirm({title:"确定删除该评论吗？",content:{id:"todoId",title:"删除"},data:{data:{id:s.getStrByArr([t],"id"),types:"0"},api:l.default.remove,msg:"删除"},close:function(){e.init()},confirm:function(t){}})}}}},"QGR/":function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".el-input[data-v-d25f4448]{width:60%}",""])},RMYG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("d2gY"),l=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default={props:["actionUrl","imgFile","index","fileList","onlyOnePic","show"],data:function(){return{action:"/file/uploadImg",loading:!1,dialogImageUrl:"",dialogVisible:!1,idx:0,fileLists:[],headers:""}},watch:{fileList:function(t,e){this.fileLists=t||[]}},created:function(){void 0!==this.actionUrl&&(this.action=this.actionUrl),void 0!==this.index&&(this.idx=this.index),void 0!==this.fileList&&(this.fileLists=this.fileList),this.action=l.default.ajaxUrl+this.action,this.headers={Token:this.$util.getCookie("Token")}},methods:{handleAvatarSuccess:function(t,e,a){if(0!=t.status.code)return this.errorMess(t.status.msg),void(a.length=a.length-1);this.onlyOnePic&&a.length>1&&a.shift(),this.$emit("upladSuccess",this.handleResData(a),this.idx,a)},handleRemove:function(t,e){this.$emit("upladSuccess",this.handleResData(e),this.idx,e)},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handleResData:function(t){for(var e,a=[],i=0;i<t.length;i++){e=t[i];var l=e.path;e.response&&(l=e.response.data),l&&a.push(l)}return a},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/jpg"===t.type||"image/png"===t.type||"image/gif"===t.type,a=t.size/1024/1024<2;return e||this.$Notice.warning({title:"只能上传图片",desc:"格式为: JPG、png、gif 格式!"}),a||this.$Notice.warning({title:"超出文件大小限制",desc:"文件 "+t.name+" 太大，不能超过 2MB!"}),e&&a},onError:function(t,e,a){this.$Notice.warning({title:"上传失败"})}}}},UNU2:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="/product",l={list:{path:i+"/list",method:"get"},get:{path:i+"/get",method:"get"},modify:{path:i+"/modify",method:"put"},add:{path:i+"/add",method:"post"},up:{path:i+"/up?ids=",method:"put"},down:{path:i+"/down?ids=",method:"put"},getTextbook:{path:"/textbook/version/all",method:"get"},statistics:{path:"/comment/statistics",method:"get"},commentList:{path:"/comment/list",method:"get"},audit:{path:"/comment/audit",method:"put"},remove:{path:"/comment/remove",method:"delete"}};e.default=l},UcnB:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".cggg-content .table-title{text-align:center;line-height:40px;font-size:20px;margin-top:20px}.cggg-content img{position:absolute;right:28px;top:64px}",""])},UmnI:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.testList=e.add=e.list=void 0;var i=a("JuHn"),l=function(t){return t&&t.__esModule?t:{default:t}}(i),s={title:[l.default.inputLen(0,50),l.default.illegalChar()]},o={title:[l.default.required,l.default.inputLen(0,200),l.default.illegalChar()],subtitle:[l.default.required,l.default.inputLen(0,200),l.default.illegalChar()],press:[l.default.required,l.default.inputLen(0,200),l.default.illegalChar()],sales:[l.default.requiredNoEvent,l.default.greaterThanZero],originalPrice:[l.default.required,l.default.numberSection(.01,1e5)],discount:[l.default.requiredNoEvent]},r={name:[l.default.inputLen(0,50),l.default.illegalChar()]};e.list=s,e.add=o,e.testList=r},UzBm:function(t,e,a){var i=a("dvh2");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("2fc5d1c8",i,!0)},"VC7+":function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=a("ZnvN"),s=i(l),o=a("YBhn"),r=i(o),n=null;e.default={props:["operailityData"],data:function(){return{resourceHttp:"",formValidate:{},showId:{id:"show",title:"评价列表"}}},created:function(){this.init()},methods:{init:function(){n=this.$util,this.resourceHttp=this.$store.getters["app/envs"]("resourceHttp"),this.ajax({ajaxSuccess:this.getData,ajaxParams:{url:r.default.get.path+"?id="+this.operailityData.id,method:r.default.get.method}})},getData:function(t){this.formValidate=t.data,this.formValidate.imgs&&(this.formValidate.imgs=this.formValidate.imgs.split(","))},show:function(){this.openModel("show")},cancel:function(t){this[t+"Modal"]=!1},openModel:function(t){this[t+"Modal"]=!0}},components:{show:s.default}}},WMSM:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"content",staticClass:"moudle-wrap modal clearfix",attrs:{id:"content"}},[a("el-col",[a("div",[a("el-form",{ref:"formValidate",staticClass:"demo-ruleForm",attrs:{rules:t.rules,model:t.formValidate,"label-width":"120px"}},[a("el-row",{staticClass:"search-from"},[a("el-col",{attrs:{span:4}},[a("el-form-item",{staticStyle:{"margin-left":"-27px"},attrs:{label:"商品状态：",prop:"status"}},[a("el-select",{attrs:{size:"small",placeholder:""},model:{value:t.formValidate.status,callback:function(e){t.$set(t.formValidate,"status",e)},expression:"formValidate.status"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"待审核",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"在售",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"审核驳回",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"下架",value:"3"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"年级：",prop:"grade"}},[a("el-select",{attrs:{size:"small",placeholder:""},on:{change:t.changeGrade},model:{value:t.formValidate.grade,callback:function(e){t.$set(t.formValidate,"grade",e)},expression:"formValidate.grade"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"一年级",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"二年级",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"三年级",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"四年级",value:"4"}}),t._v(" "),a("el-option",{attrs:{label:"五年级",value:"5"}}),t._v(" "),a("el-option",{attrs:{label:"六年级",value:"6"}}),t._v(" "),a("el-option",{attrs:{label:"七年级",value:"7"}}),t._v(" "),a("el-option",{attrs:{label:"八年级",value:"8"}}),t._v(" "),a("el-option",{attrs:{label:"九年级",value:"9"}}),t._v(" "),a("el-option",{attrs:{label:"高一",value:"10"}}),t._v(" "),a("el-option",{attrs:{label:"高二",value:"11"}}),t._v(" "),a("el-option",{attrs:{label:"高三",value:"12"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"科目：",prop:"subject"}},[a("el-select",{attrs:{size:"small",placeholder:""},model:{value:t.formValidate.subject,callback:function(e){t.$set(t.formValidate,"subject",e)},expression:"formValidate.subject"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),t._l(t.subjectList,function(t,e){return a("el-option",{key:e,attrs:{label:t.value,value:t.code}})})],2)],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"商品名称：",prop:"title"}},[a("el-input",{attrs:{size:"small",placeholder:"输入商品名称"},model:{value:t.formValidate.title,callback:function(e){t.$set(t.formValidate,"title",e)},expression:"formValidate.title"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"search-btn",attrs:{size:"small"},on:{click:t.searchEvent}},[t._v("搜索")])],1)],1),t._v(" "),a("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{span:14}},[a("el-button",{staticClass:"greenButton",attrs:{size:"small"},on:{click:t.add}},[t._v("新增")])],1)],1)],1),t._v(" "),a("div",{ref:"myTable",attrs:{id:"myTable"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{align:"center",context:t.self,height:t.dynamicHt,data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{selectable:t.canDel,type:"selection",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"index",align:"center",label:"序号",width:"70px","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"商品状态",prop:"status","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t._f("goodsStatus")(e.row.status))+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品名称",align:"center",prop:"title","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"商品编号",align:"center",prop:"no","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"规格",align:"center",prop:"spec","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"单位",align:"center",prop:"unit","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t._f("unit")(e.row.unit))+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"类别",align:"center",prop:"types","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t._f("goodType")(e.row.types))+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"原价(积分)",align:"center",prop:"originalPrice","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"现价(积分)",align:"center",prop:"currentPrice","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"销量",align:"center",prop:"sales","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"折扣",align:"center",prop:"discount","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.row.discount/10==10?"不打":e.row.discount/10)+"折\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"添加时间",align:"center",prop:"createTime","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t._f("formatDate")(e.row.createTime,"yyyy-MM-dd HH:mm"))+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"360"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"tableMakeItem",attrs:{size:"small"},on:{click:function(a){t.show(e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{staticClass:"tableMakeItem",attrs:{disabled:"0"==e.row.status,size:"small"},on:{click:function(a){t.edit(e.row)}}},[t._v("修改\n                        ")]),t._v(" "),a("el-button",{staticClass:"tableMakeItem",attrs:{disabled:"1"!=e.row.status,size:"small"},on:{click:function(a){t.down(e.row)}}},[t._v("下架\n                        ")]),t._v(" "),a("el-button",{staticClass:"tableMakeItem",attrs:{disabled:"3"!=e.row.status,size:"small"},on:{click:function(a){t.up(e.row)}}},[t._v("上架\n                        ")])]}}])})],1),t._v(" "),a("div",{staticStyle:{margin:"10px 50px 10px 0"}},[a("el-button",{staticClass:"deleteButton",attrs:{disabled:"0"==t.multipleSelection.length,size:"small"},on:{click:function(e){t.down("")}}},[t._v("批量下架\n              ")]),t._v(" "),a("div",{staticStyle:{float:"right"}},[a("el-pagination",{attrs:{"current-page":t.myPages.currentPage,"page-size":t.myPages.pageSize,layout:"total,prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.changePageSize,"current-change":t.changePage,"update:currentPage":function(e){t.$set(t.myPages,"currentPage",e)}}})],1)],1)],1)]),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"1000",title:"添加商品","class-name":"vertical-center-modal",loading:t.loading},model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[a("modal-header",{attrs:{slot:"header",content:t.addId},slot:"header"}),t._v(" "),t.addModal?a("add",{on:{cancel:t.cancel,add:t.subCallback}}):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"1000",title:"添加商品","class-name":"vertical-center-modal",loading:t.loading},model:{value:t.editModal,callback:function(e){t.editModal=e},expression:"editModal"}},[a("modal-header",{attrs:{slot:"header",content:t.editId},slot:"header"}),t._v(" "),t.editModal?a("edit",{attrs:{"operaility-data":t.operailityData},on:{cancel:t.cancel,edit:t.subCallback}}):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"1000",title:"添加商品","class-name":"vertical-center-modal",loading:t.loading},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("modal-header",{attrs:{slot:"header",content:t.showId},slot:"header"}),t._v(" "),t.showModal?a("show",{attrs:{"operaility-data":t.operailityData},on:{cancel:t.cancel,show:t.subCallback}}):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)},l=[],s={render:i,staticRenderFns:l};e.a=s},XJxW:function(t,e,a){"use strict";function i(t){a("g+Iu")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("VC7+"),s=a.n(l),o=a("EyUv"),r=a("VU/8"),n=i,d=r(s.a,o.a,!1,n,null,null);e.default=d.exports},Y2Uo:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".el-input[data-v-9caacbc8]{width:60%}.title[data-v-9caacbc8]{font-size:20px;line-height:40px}.item[data-v-9caacbc8]{width:195px}",""])},YBhn:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="/productIntegral",l={list:{path:i+"/list",method:"get"},get:{path:i+"/get",method:"get"},modify:{path:i+"/modify",method:"put"},add:{path:i+"/add",method:"post"},up:{path:i+"/up?ids=",method:"put"},down:{path:i+"/down?ids=",method:"put"},getTextbook:{path:"/textbook/version/all",method:"get"},statistics:{path:"/comment/statistics",method:"get"},commentList:{path:"/comment/list",method:"get"},audit:{path:"/comment/audit",method:"put"},remove:{path:"/comment/remove",method:"delete"}};e.default=l},YHX4:function(t,e,a){var i=a("xF0q");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("8629d786",i,!0)},Z7aR:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=a("woOf"),s=i(l),o=a("vvYo"),r=i(o),n=a("UmnI"),d=null;e.default={props:["papers"],data:function(){return{rules:n.testList,choiceList:[],paperList:[],totalCount:10,showItems:["textbookVersion","subject","grade"],selectItems:{subject:"Chinese",textbookVersion:"",grade:1},searchObj:{subject:"Chinese",textbookVersionId:"",grade:"1"}}},created:function(){this.init()},methods:{init:function(){d=this.$util,this.myPages=d.pageInitPrams,this.queryQptions={url:"/papers/list",params:{curPage:1,pageSize:d.pageInitPrams.pageSize}},this.setTableData()},setTableData:function(t){(0,s.default)(this.queryQptions.params,this.searchObj),this.ajax({ajaxSuccess:"listDataSuccess",ajaxParams:this.queryQptions},t)},listDataSuccess:function(t,e,a){this.totalCount=t.data.totalCount||0,this.paperList=this.addIndex(t.data.dataList||[])},searchEvent:function(){this.handleSubmit("searchObj")&&this.setTableData()},handleSubmit:function(t){var e=this,a=!1;return this.$refs[t].validate(function(t){t?a=!0:e.errorMess("表单验证失败!")}),a},changeHeader:function(t,e){for(var a in this.searchObj)this.searchObj[a]=e[a]&&e[a]||"";""!=t.subject&&(this.searchObj.subject=t.subject.code),this.searchObj.textbookVersionId=e.textbookVersion,this.init()},add:function(t){if(this.choiceList.indexOf(t)>0)return!1;this.choiceList.push(t)},remove:function(t){this.choiceList.splice(t,1)},submit:function(){var t=[];this.choiceList.map(function(e){t.push(e.id)}),this.searchObj.ids=t,this.$emit("choice",this.searchObj)},cancle:function(){this.$emit("cancel","add")}},components:{subjectHead:r.default}}},ZGi5:function(t,e,a){"use strict";function i(t){a("oZT0")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("f2Qy"),s=a.n(l),o=a("CGzv"),r=a("VU/8"),n=i,d=r(s.a,o.a,!1,n,"data-v-d25f4448",null);e.default=d.exports},ZLk2:function(t,e,a){var i=a("ldWR");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("fb30eb30",i,!0)},ZnvN:function(t,e,a){"use strict";function i(t){a("BAD5")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("dAqO"),s=a.n(l),o=a("cFab"),r=a("VU/8"),n=i,d=r(s.a,o.a,!1,n,null,null);e.default=d.exports},bEEB:function(t,e,a){"use strict";function i(t){a("yzr8")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("dTnX"),s=a.n(l),o=a("ffNy"),r=a("VU/8"),n=i,d=r(s.a,o.a,!1,n,"data-v-9caacbc8",null);e.default=d.exports},bOdI:function(t,e,a){"use strict";e.__esModule=!0;var i=a("C4MV"),l=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(t,e,a){return e in t?(0,l.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},bmGR:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,"",""])},cFab:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cggg-content"},[t.formValidate.icon?a("img",{attrs:{src:t.resourceHttp+t.formValidate.icon,alt:"",width:"260",height:"300"}}):t._e(),t._v(" "),a("el-form",{ref:"formValidate",attrs:{model:t.formValidate,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品标题："}},[t._v("\n            "+t._s(t.formValidate.title)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"商品副标题："}},[t._v("\n            "+t._s(t.formValidate.subtitle)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"出版社："}},[t._v("\n            "+t._s(t.formValidate.press)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"商品编号："}},[t._v("\n            "+t._s(t.formValidate.no)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"价格："}},[t._v("\n            "+t._s(t.formValidate.currentPrice)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"销量："}},[t._v("\n            "+t._s(t.formValidate.sales)+"套\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"规格："}},[t._v("\n            "+t._s(t.formValidate.spec)+"\n        ")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,border:"",height:"200","show-summary":""}},[a("el-table-column",{attrs:{prop:"name",label:"评价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"lastWeek",label:"最近一周",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"lastMonth",label:"最近一月"}}),t._v(" "),a("el-table-column",{attrs:{prop:"lastSixMonth",label:"最近6个月"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sixMonthAgo",label:"六个月之前"}})],1),t._v(" "),a("p",{staticClass:"table-title"},[t._v("商品评论列表")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.CommentData}},[a("el-table-column",{attrs:{prop:"createTime",label:"日期",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t._f("formatDate")(e.row.createTime,"yyyy-MM-dd HH:mm"))+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"用户名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"result",label:"评价结果","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.comment)+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"210"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)},l=[],s={render:i,staticRenderFns:l};e.a=s},"d/TY":function(t,e,a){"use strict";function i(t){a("IMYR")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("5ZdY"),s=a.n(l),o=a("jbtI"),r=a("VU/8"),n=i,d=r(s.a,o.a,!1,n,"data-v-3ce9439b",null);e.default=d.exports},dAqO:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("YBhn"),l=function(t){return t&&t.__esModule?t:{default:t}}(i),s=null;e.default={props:["operailityData"],data:function(){return{resourceHttp:"",formValidate:this.operailityData,tableData:[],CommentData:[]}},created:function(){this.init()},methods:{init:function(){s=this.$util,this.resourceHttp=this.$store.getters["app/envs"]("resourceHttp"),this.tableData=[],this.ajax({ajaxSuccess:this.getStatisticsList,ajaxParams:{url:l.default.statistics.path+"?types=1&productId="+this.operailityData.id,method:l.default.statistics.method}}),this.ajax({ajaxSuccess:this.getCommentList,ajaxParams:{url:l.default.commentList.path+"?types=1&productId="+this.operailityData.id,method:l.default.commentList.method}})},getStatisticsList:function(t){t.data instanceof Object&&(this.tableData.push(t.data.positive),this.tableData[0].name="好评",this.tableData.push(t.data.moderate),this.tableData[1].name="中评",this.tableData.push(t.data.negative),this.tableData[2].name="差评")},getCommentList:function(t){this.CommentData=t.data.dataList},pass:function(t){var e=this;s.todoConfirm({title:"确定通过该评论吗？",content:{id:"todoId",title:"通过"},data:{data:{id:s.getStrByArr([t],"id"),types:"0"},api:l.default.audit,msg:"通过"},close:function(){e.init()},confirm:function(t){}})},remove:function(t){var e=this;s.todoConfirm({title:"确定删除该评论吗？",content:{id:"todoId",title:"删除"},data:{data:{id:s.getStrByArr([t],"id"),types:"1"},api:l.default.remove,msg:"删除"},close:function(){e.init()},confirm:function(t){}})}}}},"dQ+Z":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cggg-content"},[t.formValidate.icon?a("img",{attrs:{src:t.resourceHttp+t.formValidate.icon,alt:""}}):t._e(),t._v(" "),a("el-form",{ref:"formValidate",attrs:{model:t.formValidate,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品标题："}},[t._v("\n            "+t._s(t.formValidate.title)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"商品副标题："}},[t._v("\n            "+t._s(t.formValidate.subtitle)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"出版社："}},[t._v("\n            "+t._s(t.formValidate.press)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"商品编号："}},[t._v("\n            "+t._s(t.formValidate.no)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"价格："}},[t._v("\n            "+t._s(t.formValidate.currentPrice)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"销量："}},[t._v("\n            "+t._s(t.formValidate.sales)+"套\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"规格："}},[t._v("\n            "+t._s(t.formValidate.spec)+"\n        ")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,border:"",height:"200","show-summary":""}},[a("el-table-column",{attrs:{prop:"name",label:"评价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"lastWeek",label:"最近一周",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"lastMonth",label:"最近一月"}}),t._v(" "),a("el-table-column",{attrs:{prop:"lastSixMonth",label:"最近6个月"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sixMonthAgo",label:"六个月之前"}})],1),t._v(" "),a("p",{staticClass:"table-title"},[t._v("商品评论列表")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.CommentData}},[a("el-table-column",{attrs:{prop:"createTime",label:"日期",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t._f("formatDate")(e.row.createTime,"yyyy-MM-dd HH:mm"))+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"用户名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"result",label:"评价结果"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t._f("commentResult")(e.row.result))+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"210"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)},l=[],s={render:i,staticRenderFns:l};e.a=s},dTnX:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=a("P6LQ"),s=i(l),o=a("vDYm"),r=i(o),n=a("zlKu"),d=i(n),c=a("YBhn"),u=i(c),f=a("UmnI"),p=null;e.default={props:["operailityData"],data:function(){var t=this;return{rules:f.add,self:!1,loading:!1,resourceHttp:"",papersArr:[],knowledgeIds:"",knowledgeIdArr:[],knowledgeList:[],chapterList:[],paperList:[],textbookVersionId:"",textbookVersionList:[],radio:"",discount:["1","2","3","4","5","6","7","8","9"],loadBtn:{title:"提交",callParEvent:"listenSubEvent"},formValidate:{status:0},addId:{id:"add",title:"选择试卷"},fileList:[],actionUrl:this.$util.urlPrefix+"/file/uploadImg",subjectList:[{value:"语文"},{value:"数学"},{value:"英语"}],textbook:[],isSubcall:!1,isEdit:null,editMessTitle:{type:"edit",callback:"close",successTitle:"修改成功!",errorTitle:"修改失败!",ajaxSuccess:function(e){return t.$emit("edit","edit","修改成功!")},ajaxError:"ajaxError",ajaxParams:{url:u.default.modify.path,method:u.default.modify.method}}}},created:function(){this.init()},methods:{init:function(){var t=this;p=this.$util,this.ajax({ajaxSuccess:function(e){t.textbook=e.data,t.ajax({ajaxSuccess:t.getData,ajaxParams:{url:u.default.get.path+"?id="+t.operailityData.id,method:u.default.get.method}})},ajaxParams:{url:u.default.getTextbook.path,method:u.default.getTextbook.method}})},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/jpg"===t.type||"image/png"===t.type,a=t.size/1024/1024<2,i=t.size/1024>30;return e||this.$Notice.warning({title:"只能上传图片",desc:"格式为: JPG、png 格式!"}),a||this.$Notice.warning({title:"超出文件大小限制",desc:"上传头像图片 "+t.name+" 太大，不能超过 2MB!"}),i||this.$Notice.warning({title:"文件大小限制",desc:"上传头像图片 "+t.name+" 分辨率太小，不能小于550 * 550像素"}),e&&a&&i},changGrade:function(t){this.subjectList=this.that.$store.getters["app/gradeMap"](t)},getData:function(t){var e=this;(this.resourceHttp=this.$store.getters["app/envs"]("resourceHttp"),"3"==t.data.status?this.isEdit=!1:this.isEdit=!0,"2"==t.data.status?this.isEdit=!1:this.isEdit=!0,this.formValidate=t.data,String(this.formValidate.discount/10).indexOf(".")<-1?this.formValidate.discount=String(this.formValidate.discount/10):this.self=!0,this.formValidate.unit=String(this.formValidate.unit),this.formValidate.types=String(this.formValidate.types),this.formValidate.stage=String(this.formValidate.stage),this.formValidate.grade=String(this.formValidate.grade),this.paperList=this.formValidate.paperList,this.formValidate.chapterId&&(this.formValidate.chapterId=String(this.formValidate.chapterId)),this.paperList&&this.paperList.map(function(t){e.papersArr.push(t.id)}),this.formValidate.imgs)&&this.formValidate.imgs.split(",").map(function(t){e.fileList.push({name:t,url:e.resourceHttp+t})});if(this.formValidate.tags){var a=this.formValidate.tags.split(",");this.radio=this.formValidate.icon,a.map(function(t){e.knowledgeList.push({name:t})})}if(this.formValidate.textbookVersionId){var i=this.formValidate.textbookVersionId.split(",");this.radio=this.formValidate.icon,i.map(function(t){e.textbook.map(function(a){t==a.id&&e.textbookVersionList.push(a)})})}},handleClose:function(t){this.formValidate.paperList.splice(this.formValidate.paperList.indexOf(t),1)},handleCloseText:function(t){this.textbookVersionList.splice(this.textbookVersionList.indexOf(t),1)},getTextbookVersion:function(t){this.textbookVersionId=t.name,this.textbookVersionList.indexOf(t)<0&&this.textbookVersionList.length<11&&this.textbookVersionList.push(t)},getSelectDataForServer:function(){var t=this,e={ajaxSuccess:function(e){t.chapterList=e.data},ajaxError:function(){return t.errorMess("获取数据失败，请重试")},ajaxParams:{url:"textbookContent/queryChapterList",params:{textbookVersionId:this.formValidate.textbookVersionId,grade:this.formValidate.grade,subject:this.formValidate.subject,term:""}}};this.ajax(e)},getknowledgeIds:function(t){this.knowledgeIds=t.name,this.knowledgeList.indexOf(t)>0&&this.knowledgeList.length<11||this.knowledgeList.push(t)},subCallback:function(t){this.addModal=!1,this.isSubcall=!0,this.papersArr=this.papersArr.concat(t.ids),this.formValidate.grade=String(t.grade),this.formValidate.subject=t.subject,this.formValidate.spec=t.ids.length,this.formValidate.papers=p.unique(this.papersArr).join(),this.getKnowledges()},close:function(t){this[t+"Modal"]=!1},getKnowledges:function(){var t=this;this.ajax({ajaxSuccess:function(e){return t.knowledgeIdArr=e.data},ajaxParams:{url:"/papers/queryKnowledgeList?paperIds="+this.formValidate.papers,method:"get"}})},cancle:function(){this.$emit("cancel","edit")},choice:function(){this.addModal=!0},uploadSuccess:function(t,e,a){this.fileList=a,this.fileList.map(function(t){void 0!=t.response&&(t.name=t.response.data)}),this.radio=this.fileList[0].name},submitForm:function(t){var e=!1;return this.$refs[t].validate(function(t){t&&(e=!0)}),e},getImgs:function(){var t=[];this.fileList.map(function(e){void 0!=e.response?e.url=e.response.data:e.url=e.name,t.push(e.url)}),this.formValidate.imgs=t.join(",")},listenSubEvent:function(t){if(this.getImgs(),this.submitForm("formValidate")){this.formValidate.icon=this.radio;var e=[];if(this.textbookVersionList.map(function(t){e.push(t.id)}),0==this.textbookVersionList.length)return this.errorMess("请选择教材！"),!1;if(this.formValidate.textbookVersionId=e.join(),this.formValidate.discount=10*this.formValidate.discount,this.formValidate.currentPrice=Math.round(this.formValidate.originalPrice*this.formValidate.discount/100),!this.isSubcall&&this.paperList){var a=[];this.paperList.map(function(t){a.push(t.id)}),this.formValidate.papers=a.join(",")}delete this.formValidate.paperList,delete this.formValidate.pageSize,delete this.formValidate.curPage,delete this.formValidate.limit,delete this.formValidate.createTime,delete this.formValidate.updateTime,delete this.formValidate.commentNum,delete this.formValidate.productTypes,t||(t=function(){}),t(!0),this.editMessTitle.ajaxParams.data=this.getFormData(this.formValidate),this.ajax(this.editMessTitle,t)}},getFormData:function(t){return p._.defaultsDeep({},t)}},components:{testList:d.default,productTypeOption:r.default,gradeOptionList:s.default}}},dvh2:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".onlyUploadShowWell li.el-upload-list__item:hover .el-icon-close{display:none}.onlyUploadShowWell li.el-upload-list__item:hover .el-upload-list__item-status-label{display:inline-block}.noFile .uploadShow,.onlyUploadShowWell .el-upload--picture-card,.onlyUploadShowWell .el-upload-list__item-actions{display:none}.noFileTips{text-align:center;line-height:26px}.el-form-item__content .noFileTips{line-height:36px}",""])},f2Qy:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=a("UNU2"),s=i(l),o=a("UmnI"),r=a("zlKu"),n=i(r),d=a("vDYm"),c=i(d),u=a("P6LQ"),f=i(u),p=null;e.default={data:function(){var t=this;return{rules:o.add,self:!1,fileList:[],papersArr:[],radio:"",knowledgeIds:"",loading:!1,knowledgeIdArr:[],knowledgeList:[],textbookVersionId:"",textbookVersionList:[],actionUrl:this.$util.urlPrefix+"/file/uploadImg",formValidate:{title:"",subtitle:"",press:"",originalPrice:"",discount:"",currentPrice:"",unit:"0",types:"100",sales:0,stocks:"",textbookVersionId:"",stage:"0",subject:"",grade:"1",chapterId:"",papers:"",tags:"",spec:"",icon:"",imgs:"",remark:"",content:"",target:"",advantage:""},chapterList:[],subjectList:[],loadBtn:{title:"提交",callParEvent:"listenSubEvent"},textbook:[],addId:{id:"add",title:"选择试卷"},addMessTitle:{type:"add",callback:"close",successTitle:"添加成功!",errorTitle:"添加失败!",ajaxSuccess:function(e){return t.$emit("add","add","添加成功!")},ajaxError:"ajaxError",ajaxParams:{url:s.default.add.path,method:s.default.add.method}}}},created:function(){this.init()},methods:{init:function(){var t=this;p=this.$util,this.ajax({ajaxSuccess:function(e){return t.textbook=e.data},ajaxParams:{url:s.default.getTextbook.path,method:s.default.getTextbook.method}}),this.subjectList=this.$store.getters["app/gradeMap"](1)},getKnowledges:function(){var t=this;this.ajax({ajaxSuccess:function(e){return t.knowledgeIdArr=e.data},ajaxParams:{url:"/papers/queryKnowledgeList?paperIds="+this.formValidate.papers,method:"get"}})},handleClose:function(t){this.textbookVersionList.splice(this.textbookVersionList.indexOf(t),1)},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/jpg"===t.type||"image/png"===t.type,a=t.size/1024/1024<2,i=t.size/1024>30;return e||this.$Notice.warning({title:"只能上传图片",desc:"格式为: JPG、png 格式!"}),a||this.$Notice.warning({title:"超出文件大小限制",desc:"上传头像图片 "+t.name+" 太大，不能超过 2MB!"}),i||this.$Notice.warning({title:"文件大小限制",desc:"上传头像图片 "+t.name+" 分辨率太小，不能小于550 * 550像素"}),e&&a&&i},getTextbookVersion:function(t){this.textbookVersionId=t.name,this.textbookVersionList.indexOf(t)>0&&this.textbookVersionList.length<11||this.textbookVersionList.push(t)},getknowledgeIds:function(t){this.knowledgeIds=t.name,this.knowledgeList.indexOf(t)<0&&this.knowledgeList.length<11&&this.knowledgeList.push(t)},changeSubject:function(t){this.formValidate.subject=t},getChapter:function(){var t=this;this.ajax({ajaxSuccess:function(e){return t.chapterList=e.data},ajaxParams:{url:"/textbookContent/queryChapterList",method:"get",params:{textbookVersionId:this.formValidate.textbookVersionId,subject:this.formValidate.subject,grade:this.formValidate.grade,term:this.formValidate.term}}})},changGrade:function(t){this.subjectList=this.$store.getters["app/gradeMap"](t)},stageChange:function(){"0"==this.formValidate.stage?this.formValidate.grade="1":"1"==this.formValidate.stage?this.formValidate.grade="7":this.formValidate.grade="10"},choice:function(){this.addModal=!0},subCallback:function(t){var e=this;this.addModal=!1,this.papersArr=this.papersArr.concat(t.ids),this.formValidate.grade=String(t.grade),this.formValidate.subject=t.subject,this.formValidate.spec=t.ids.length,this.formValidate.papers=p.unique(this.papersArr).join(),this.textbook.map(function(a){t.textbookVersionId==a.id&&e.textbookVersionList.push(a)}),this.getKnowledges(),this.getChapter()},uploadSuccess:function(t,e,a){this.fileList=a,this.radio=this.fileList[0].response},close:function(t){this[t+"Modal"]=!1},cancle:function(){this.$emit("cancel","add")},submitForm:function(t){var e=!1;return this.$refs[t].validate(function(t){t&&(e=!0)}),e},getImgs:function(){var t=[];this.fileList.map(function(e){t.push(e.response.data)}),this.formValidate.imgs=t.join(",")},listenSubEvent:function(t){this.getImgs(),this.formValidate.icon=this.radio.data;var e=[];if(this.textbookVersionList.map(function(t){e.push(t.id)}),0==this.textbookVersionList.length)return this.errorMess("请选择教材！"),!1;this.formValidate.textbookVersionId=e.join(),this.submitForm("formValidate")&&(t||(t=function(){}),t(!0),this.formValidate.discount=10*this.formValidate.discount,this.formValidate.currentPrice=Math.round(this.formValidate.originalPrice*this.formValidate.discount),this.formValidate.originalPrice=Math.round(100*this.formValidate.originalPrice),this.addMessTitle.ajaxParams.data=this.getFormData(this.formValidate),this.ajax(this.addMessTitle,t))},getFormData:function(t){return p._.defaultsDeep({},t)}},components:{testList:n.default,productTypeOption:c.default,gradeOptionList:f.default}}},ffNy:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"formValidate",attrs:{rules:t.rules,model:t.formValidate,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品标题：",prop:"title"}},[a("el-input",{attrs:{disabled:t.isEdit,size:"small"},model:{value:t.formValidate.title,callback:function(e){t.$set(t.formValidate,"title",e)},expression:"formValidate.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品副标题：",prop:"subtitle"}},[a("el-input",{attrs:{disabled:t.isEdit,size:"small"},model:{value:t.formValidate.subtitle,callback:function(e){t.$set(t.formValidate,"subtitle",e)},expression:"formValidate.subtitle"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"出版社：",prop:"press"}},[a("el-input",{attrs:{disabled:t.isEdit,size:"small"},model:{value:t.formValidate.press,callback:function(e){t.$set(t.formValidate,"press",e)},expression:"formValidate.press"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品类型",prop:"types"}},[a("el-select",{attrs:{disabled:t.isEdit,size:"small",placeholder:"请选择"},model:{value:t.formValidate.types,callback:function(e){t.$set(t.formValidate,"types",e)},expression:"formValidate.types"}},[a("product-type-option")],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"折扣（折）",prop:"discount"}},[t.self?a("el-input",{staticClass:"item",attrs:{disabled:t.isEdit},model:{value:t.formValidate.discount,callback:function(e){t.$set(t.formValidate,"discount",e)},expression:"formValidate.discount"}}):a("el-select",{attrs:{disabled:t.isEdit,size:"small",placeholder:"请选择"},model:{value:t.formValidate.discount,callback:function(e){t.$set(t.formValidate,"discount",e)},expression:"formValidate.discount"}},[a("el-option",{attrs:{label:"不打折",value:"100"}}),t._v(" "),t._l(t.discount,function(t,e){return a("el-option",{key:e,attrs:{label:e+1+"折",value:t}})})],2),t._v(" "),a("el-button",{attrs:{disabled:t.isEdit},on:{click:function(e){t.self=!t.self}}},[t._v("自定义")])],1),t._v(" "),a("el-form-item",{attrs:{label:"商品单位：",prop:"unit"}},[a("el-select",{attrs:{disabled:t.isEdit,size:"small",placeholder:"请选择"},model:{value:t.formValidate.unit,callback:function(e){t.$set(t.formValidate,"unit",e)},expression:"formValidate.unit"}},[a("el-option",{attrs:{label:"套",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"份",value:"1"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"阶段：",prop:"stage"}},[a("el-select",{attrs:{disabled:t.isEdit,size:"small",placeholder:"请选择"},model:{value:t.formValidate.stage,callback:function(e){t.$set(t.formValidate,"stage",e)},expression:"formValidate.stage"}},[a("el-option",{attrs:{label:"小学",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"初中",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"高中",value:"2"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"销量：",prop:"sales"}},[a("el-input",{staticClass:"item",attrs:{size:"small"},model:{value:t.formValidate.sales,callback:function(e){t.$set(t.formValidate,"sales",e)},expression:"formValidate.sales"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"试题选择："}},[a("el-button",{attrs:{disabled:t.isEdit,size:"small",type:"primary"},on:{click:t.choice}},[t._v("从试题库中选择")])],1),t._v(" "),a("el-form-item",{staticStyle:{"max-height":"400px"},attrs:{label:"内含试卷"}},t._l(t.paperList,function(e){return t.formValidate.paperList?a("p",[a("el-tag",{key:e.name,attrs:{closable:""},on:{close:function(a){t.handleClose(e)}}},[t._v("\n                    "+t._s(e.name)+"\n                ")])],1):a("span",[t._v("无")])})),t._v(" "),a("el-form-item",{attrs:{label:"商品规格：",prop:"spec"}},[a("el-input",{staticClass:"item",attrs:{disabled:t.isEdit,disabled:"",size:"small"},model:{value:t.formValidate.spec,callback:function(e){t.$set(t.formValidate,"spec",e)},expression:"formValidate.spec"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品图片："}},[a("el-upload",{attrs:{action:t.actionUrl,"list-type":"picture-card","show-file-list":"",limit:4,"file-list":t.fileList,"before-upload":t.beforeAvatarUpload,"on-success":t.uploadSuccess}},[a("i",{staticClass:"el-icon-plus"}),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，图片分辨率不小于550*550且不超过2M")])]),t._v(" "),t._l(t.fileList,function(e,i){return a("el-radio",{key:i,staticStyle:{"margin-left":"48px"},attrs:{label:e.name},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("设置为主图\n            ")])})],2),t._v(" "),a("el-form-item",{attrs:{label:"商品介绍：",prop:"remark"}},[a("el-input",{attrs:{disabled:t.isEdit,size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.remark,callback:function(e){t.$set(t.formValidate,"remark",e)},expression:"formValidate.remark"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品内容：",prop:"content"}},[a("el-input",{attrs:{disabled:t.isEdit,size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.content,callback:function(e){t.$set(t.formValidate,"content",e)},expression:"formValidate.content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品目标：",prop:"target"}},[a("el-input",{attrs:{disabled:t.isEdit,size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.target,callback:function(e){t.$set(t.formValidate,"target",e)},expression:"formValidate.target"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品优势：",prop:"advantage"}},[a("el-input",{attrs:{disabled:t.isEdit,size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.advantage,callback:function(e){t.$set(t.formValidate,"advantage",e)},expression:"formValidate.advantage"}})],1),t._v(" "),a("p",{staticClass:"title"},[t._v("添加至：")]),t._v(" "),a("el-form-item",{attrs:{label:"教材："}},[a("el-select",{attrs:{disabled:t.isEdit,size:"small",filterable:"",placeholder:"请选择"},on:{change:t.getTextbookVersion},model:{value:t.textbookVersionId,callback:function(e){t.textbookVersionId=e},expression:"textbookVersionId"}},t._l(t.textbook,function(t,e){return a("el-option",{key:t.id,attrs:{label:t.name,value:t}})})),t._v(" "),a("br"),t._v(" "),t._l(t.textbookVersionList,function(e){return a("el-tag",{key:e.id,attrs:{closable:""},on:{close:function(a){t.handleCloseText(e)}}},[t._v("\n                "+t._s(e.name)+"\n            ")])})],2),t._v(" "),a("el-form-item",{attrs:{label:"年级："}},[a("el-select",{attrs:{disabled:"",size:"small",placeholder:""},on:{change:t.changGrade},model:{value:t.formValidate.grade,callback:function(e){t.$set(t.formValidate,"grade",e)},expression:"formValidate.grade"}},[a("grade-option-list")],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"科目："}},[t._v("\n            "+t._s(t._f("subject")(t.formValidate.subject))+"\n        ")]),t._v(" "),a("el-form-item",{staticStyle:{"margin-left":"30%"}},[a("load-btn",{attrs:{btnData:t.loadBtn},on:{listenSubEvent:t.listenSubEvent}}),t._v(" "),a("el-button",{staticClass:"tableMakeItemCancel",attrs:{size:"small"},on:{click:t.cancle}},[t._v("取消")])],1)],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"1000",title:"添加商品","class-name":"vertical-center-modal",loading:t.loading},model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[a("modal-header",{attrs:{slot:"header",content:t.addId},slot:"header"}),t._v(" "),t.addModal?a("test-list",{attrs:{papers:t.formValidate.papers},on:{cancel:t.close,choice:t.subCallback}}):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)},l=[],s={render:i,staticRenderFns:l};e.a=s},"g+Iu":function(t,e,a){var i=a("L8D0");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("15dc5f98",i,!0)},hTcy:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cgt-content"},[a("subject-head",{attrs:{showItems:t.showItems,selectItems:t.selectItems},on:{change:t.changeHeader}}),t._v(" "),a("el-form",{ref:"searchObj",staticClass:"demo-ruleForm",attrs:{rules:t.rules,model:t.searchObj,"label-width":"80px",inline:""}},[a("el-row",{staticClass:"search-from"},[a("el-form-item",{attrs:{label:"试卷类型",prop:"papersTypes"}},[a("el-select",{attrs:{size:"small",placeholder:""},model:{value:t.searchObj.papersTypes,callback:function(e){t.$set(t.searchObj,"papersTypes",e)},expression:"searchObj.papersTypes"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"试卷",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"联考",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"测验",value:"3"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"年届",prop:"years"}},[a("el-select",{attrs:{size:"small",placeholder:""},model:{value:t.searchObj.years,callback:function(e){t.$set(t.searchObj,"years",e)},expression:"searchObj.years"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),t._l(10,function(t){return a("el-option",{key:t,attrs:{label:(new Date).getFullYear()-t+1,value:(new Date).getFullYear()-t+1}})})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"试卷名称",prop:"name"}},[a("el-input",{attrs:{size:"small"},model:{value:t.searchObj.name,callback:function(e){t.$set(t.searchObj,"name",e)},expression:"searchObj.name"}})],1),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.searchEvent}},[t._v("搜索")])],1)],1),t._v(" "),a("div",{staticClass:"clearfix"},[a("div",{staticClass:"left "},[a("div",{staticClass:"paper-list",staticStyle:{width:"472px"}},t._l(t.paperList,function(e,i){return a("div",{staticClass:"paper-item"},[a("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:function(a){t.add(e)}}},[t._v("添加")]),t._v(" "),a("p",{staticClass:"paper-title"},[a("span",{staticClass:"exam-title"},[t._v(t._s(e.name))]),t._v(" "),a("span",{staticClass:"exam-date"},[t._v("考试时间:"+t._s(t._f("formatDate")(e.examDate)))])]),t._v(" "),a("p",[a("span",[t._v("卷号:"+t._s(e.no))]),t._v(" "),a("span",[t._v("总分:"+t._s(e.score))]),t._v(" "),a("span",[t._v("答题时长:"+t._s(e.times/60))]),t._v(" "),a("span",[t._v("类型:"+t._s(t._f("paperTypesText")(e.papersTypes)))])])],1)})),t._v(" "),a("div",{staticStyle:{margin:"10px 50px 10px 0"}},[a("div",{staticStyle:{float:"right"}},[a("el-pagination",{attrs:{"current-page":t.myPages.currentPage,"page-size":t.myPages.pageSize,layout:"total,prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.changePageSize,"current-change":t.changePage,"update:currentPage":function(e){t.$set(t.myPages,"currentPage",e)}}})],1)])]),t._v(" "),a("div",{staticClass:"right  paper-list",staticStyle:{width:"472px"}},t._l(t.choiceList,function(e,i){return a("div",{staticClass:"paper-item"},[a("el-button",{attrs:{size:"mini",type:"warning",plain:""},on:{click:function(e){t.remove(i)}}},[t._v("删除")]),t._v(" "),a("p",{staticClass:"paper-title"},[t._v(t._s(e.name))]),t._v(" "),a("p",[a("span",[t._v("卷号:"+t._s(e.no))]),t._v(" "),a("span",[t._v("总分:"+t._s(e.score))]),t._v(" "),a("span",[t._v("答题时长:"+t._s(e.times/60))]),t._v(" "),a("span",[t._v("类型:"+t._s(t._f("paperTypesText")(e.papersTypes)))])])],1)}))]),t._v(" "),a("el-row",{staticClass:"buttom"},[a("el-button",{staticClass:"search-btn",attrs:{size:"small"},on:{click:t.submit}},[t._v("确定")]),t._v(" "),a("el-button",{staticClass:"tableMakeItemCancel",attrs:{size:"small"},on:{click:t.cancle}},[t._v("取消")])],1)],1)},l=[],s={render:i,staticRenderFns:l};e.a=s},iGtQ:function(t,e,a){var i=a("bmGR");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("deff70fe",i,!0)},jbtI:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"formValidate",attrs:{rules:t.rules,model:t.formValidate,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品标题：",prop:"title"}},[a("el-input",{attrs:{disabled:t.isEdit,size:"small"},model:{value:t.formValidate.title,callback:function(e){t.$set(t.formValidate,"title",e)},expression:"formValidate.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品副标题：",prop:"subtitle"}},[a("el-input",{attrs:{disabled:t.isEdit,size:"small"},model:{value:t.formValidate.subtitle,callback:function(e){t.$set(t.formValidate,"subtitle",e)},expression:"formValidate.subtitle"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"出版社：",prop:"press"}},[a("el-input",{attrs:{disabled:t.isEdit,size:"small"},model:{value:t.formValidate.press,callback:function(e){t.$set(t.formValidate,"press",e)},expression:"formValidate.press"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品类型",prop:"types"}},[a("el-select",{attrs:{disabled:t.isEdit,size:"small",placeholder:"请选择"},model:{value:t.formValidate.types,callback:function(e){t.$set(t.formValidate,"types",e)},expression:"formValidate.types"}},[a("product-type-option")],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"折扣（折）",prop:"discount"}},[t.self?a("el-input",{staticClass:"item",attrs:{disabled:t.isEdit},model:{value:t.formValidate.discount,callback:function(e){t.$set(t.formValidate,"discount",e)},expression:"formValidate.discount"}}):a("el-select",{attrs:{disabled:t.isEdit,size:"small",placeholder:"请选择"},model:{value:t.formValidate.discount,callback:function(e){t.$set(t.formValidate,"discount",e)},expression:"formValidate.discount"}},[a("el-option",{attrs:{label:"不打折",value:"100"}}),t._v(" "),t._l(t.discount,function(t,e){return a("el-option",{key:e,attrs:{label:e+1+"折",value:t}})})],2),t._v(" "),a("el-button",{on:{click:function(e){t.self=!t.self}}},[t._v("自定义")])],1),t._v(" "),a("el-form-item",{attrs:{label:"商品单位：",prop:"unit"}},[a("el-select",{attrs:{disabled:t.isEdit,size:"small",placeholder:"请选择"},model:{value:t.formValidate.unit,callback:function(e){t.$set(t.formValidate,"unit",e)},expression:"formValidate.unit"}},[a("el-option",{attrs:{label:"套",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"份",value:"1"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"阶段：",prop:"stage"}},[a("el-select",{attrs:{disabled:t.isEdit,size:"small",placeholder:"请选择"},model:{value:t.formValidate.stage,callback:function(e){t.$set(t.formValidate,"stage",e)},expression:"formValidate.stage"}},[a("el-option",{attrs:{label:"小学",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"初中",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"高中",value:"2"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"销量：",prop:"sales"}},[a("el-input",{staticClass:"item",attrs:{size:"small"},model:{value:t.formValidate.sales,callback:function(e){t.$set(t.formValidate,"sales",e)},expression:"formValidate.sales"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"试题选择："}},[a("el-button",{attrs:{disabled:t.isEdit,size:"small",type:"primary"},on:{click:t.choice}},[t._v("从试题库中选择")])],1),t._v(" "),a("el-form-item",{staticStyle:{"max-height":"400px"},attrs:{label:"内含试卷"}},t._l(t.paperList,function(e){return t.formValidate.paperList?a("p",[a("el-tag",{key:e.name,attrs:{closable:""},on:{close:function(a){t.handleClose(e)}}},[t._v("\n                    "+t._s(e.name)+"\n                ")])],1):a("span",[t._v("无")])})),t._v(" "),a("el-form-item",{attrs:{label:"包含章节："}}),t._v(" "),a("el-form-item",{attrs:{label:"商品规格：",prop:"spec"}},[a("el-input",{staticClass:"item",attrs:{disabled:t.isEdit,size:"small"},model:{value:t.formValidate.spec,callback:function(e){t.$set(t.formValidate,"spec",e)},expression:"formValidate.spec"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品图片："}},[a("el-upload",{attrs:{action:t.actionUrl,"list-type":"picture-card","show-file-list":"",limit:4,"file-list":t.fileList,"before-upload":t.beforeAvatarUpload,"on-success":t.uploadSuccess}},[a("i",{staticClass:"el-icon-plus"}),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，图片分辨率不小于550*550且不超过2M")])]),t._v(" "),t._l(t.fileList,function(e,i){return a("el-radio",{key:i,staticStyle:{"margin-left":"48px"},attrs:{label:e.name},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("设置为主图\n            ")])})],2),t._v(" "),a("el-form-item",{attrs:{label:"商品介绍：",prop:"remark"}},[a("el-input",{attrs:{disabled:t.isEdit,size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.remark,callback:function(e){t.$set(t.formValidate,"remark",e)},expression:"formValidate.remark"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品内容：",prop:"content"}},[a("el-input",{attrs:{disabled:t.isEdit,size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.content,callback:function(e){t.$set(t.formValidate,"content",e)},expression:"formValidate.content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品目标：",prop:"target"}},[a("el-input",{attrs:{disabled:t.isEdit,size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.target,callback:function(e){t.$set(t.formValidate,"target",e)},expression:"formValidate.target"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品优势：",prop:"advantage"}},[a("el-input",{attrs:{disabled:t.isEdit,size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.advantage,callback:function(e){t.$set(t.formValidate,"advantage",e)},expression:"formValidate.advantage"}})],1),t._v(" "),a("p",{staticClass:"title"},[t._v("添加至：")]),t._v(" "),a("el-form-item",{attrs:{label:"教材："}},[a("el-select",{attrs:{disabled:t.isEdit,size:"small",filterable:"",placeholder:"请选择"},on:{change:t.getTextbookVersion},model:{value:t.textbookVersionId,callback:function(e){t.textbookVersionId=e},expression:"textbookVersionId"}},t._l(t.textbook,function(t,e){return a("el-option",{key:t.id,attrs:{label:t.name,value:t}})})),t._v(" "),a("br"),t._v(" "),t._l(t.textbookVersionList,function(e){return a("el-tag",{key:e.id,attrs:{closable:""},on:{close:function(a){t.handleCloseText(e)}}},[t._v("\n                "+t._s(e.name)+"\n            ")])})],2),t._v(" "),a("el-form-item",{attrs:{label:"年级："}},[a("el-select",{attrs:{disabled:t.isEdit,disabled:"",size:"small",placeholder:""},on:{change:t.changGrade},model:{value:t.formValidate.grade,callback:function(e){t.$set(t.formValidate,"grade",e)},expression:"formValidate.grade"}},[a("grade-option-list")],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"科目："}},[t._v("\n            "+t._s(t._f("subject")(t.formValidate.subject))+"\n        ")]),t._v(" "),a("el-form-item",{staticStyle:{"margin-left":"30%"}},[a("load-btn",{attrs:{btnData:t.loadBtn},on:{listenSubEvent:t.listenSubEvent}}),t._v(" "),a("el-button",{staticClass:"tableMakeItemCancel",attrs:{size:"small"},on:{click:t.cancle}},[t._v("取消")])],1)],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"1100",title:"添加商品","class-name":"vertical-center-modal",loading:t.loading},model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[a("modal-header",{attrs:{slot:"header",content:t.addId},slot:"header"}),t._v(" "),t.addModal?a("test-list",{attrs:{papers:t.formValidate.papers},on:{cancel:t.close,choice:t.subCallback}}):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)},l=[],s={render:i,staticRenderFns:l};e.a=s},"k/Zb":function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".el-input[data-v-7bd29469]{width:60%}",""])},ldWR:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".cgt-content .paper-list{border:1px solid #ccc;border-radius:5px;padding:5px;height:400px;overflow-y:scroll}.cgt-content .paper-list .paper-item{position:relative;border:1px solid #ccc;border-radius:5px;margin:20px 0}.cgt-content .paper-list .paper-item .el-button{position:absolute;right:10px;top:3px}.cgt-content .paper-list .paper-title{font-size:17px;line-height:34px}.cgt-content .paper-list p span{font-size:14px;margin-right:20px;line-height:20px}.cgt-content .paper-list p .exam-date{margin-left:0}.cgt-content .paper-list p .exam-title{width:193px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.cgt-content .buttom{text-align:center;margin-top:20px}",""])},mClu:function(t,e,a){var i=a("kM2E");i(i.S+i.F*!a("+E39"),"Object",{defineProperty:a("evD5").f})},mnwJ:function(t,e,a){"use strict";function i(t){a("UzBm"),a("4pQ/")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("RMYG"),s=a.n(l),o=a("BDJb"),r=a("VU/8"),n=i,d=r(s.a,o.a,!1,n,null,null);e.default=d.exports},nBNq:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".onlyOnePic{width:160px;height:160px;overflow:hidden}",""])},oNER:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"formValidate",attrs:{rules:t.rules,model:t.formValidate,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品标题：",prop:"title"}},[a("el-input",{attrs:{size:"small"},model:{value:t.formValidate.title,callback:function(e){t.$set(t.formValidate,"title",e)},expression:"formValidate.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品副标题：",prop:"subtitle"}},[a("el-input",{attrs:{size:"small"},model:{value:t.formValidate.subtitle,callback:function(e){t.$set(t.formValidate,"subtitle",e)},expression:"formValidate.subtitle"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"出版社：",prop:"press"}},[a("el-input",{attrs:{size:"small"},model:{value:t.formValidate.press,callback:function(e){t.$set(t.formValidate,"press",e)},expression:"formValidate.press"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品类型",prop:"types"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:t.formValidate.types,callback:function(e){t.$set(t.formValidate,"types",e)},expression:"formValidate.types"}},[a("product-type-option")],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"商品价格",prop:"originalPrice"}},[a("el-input",{model:{value:t.formValidate.originalPrice,callback:function(e){t.$set(t.formValidate,"originalPrice",e)},expression:"formValidate.originalPrice"}}),t._v("\n            积分\n        ")],1),t._v(" "),a("el-form-item",{attrs:{label:"折扣（折）",prop:"discount"}},[t.self?a("el-input",{staticClass:"item",staticStyle:{width:"195px"},attrs:{placeholder:"请输入折扣 0.0"},model:{value:t.formValidate.discount,callback:function(e){t.$set(t.formValidate,"discount",e)},expression:"formValidate.discount"}}):a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:t.formValidate.discount,callback:function(e){t.$set(t.formValidate,"discount",e)},expression:"formValidate.discount"}},[a("el-option",{attrs:{label:"不打折",value:"10"}}),t._v(" "),a("el-option",{attrs:{label:"1折",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"2折",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"3折",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"4折",value:"4"}}),t._v(" "),a("el-option",{attrs:{label:"5折",value:"5"}}),t._v(" "),a("el-option",{attrs:{label:"6折",value:"6"}}),t._v(" "),a("el-option",{attrs:{label:"7折",value:"7"}}),t._v(" "),a("el-option",{attrs:{label:"8折",value:"8"}}),t._v(" "),a("el-option",{attrs:{label:"9折",value:"9"}})],1),t._v(" "),a("el-button",{on:{click:function(e){t.self=!t.self}}},[t._v("自定义")])],1),t._v(" "),a("el-form-item",{attrs:{label:"商品单位：",prop:"unit"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:t.formValidate.unit,callback:function(e){t.$set(t.formValidate,"unit",e)},expression:"formValidate.unit"}},[a("el-option",{attrs:{label:"套",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"份",value:"1"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"阶段：",prop:"stage"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择"},on:{change:t.stageChange},model:{value:t.formValidate.stage,callback:function(e){t.$set(t.formValidate,"stage",e)},expression:"formValidate.stage"}},[a("el-option",{attrs:{label:"小学",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"初中",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"高中",value:"2"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"销量：",prop:"sales"}},[a("el-input",{staticClass:"item",attrs:{size:"small"},model:{value:t.formValidate.sales,callback:function(e){t.$set(t.formValidate,"sales",e)},expression:"formValidate.sales"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"试题选择："}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.choice}},[t._v("从试题库中选择")]),t._v(" "),""!=t.formValidate.papers?a("i",{staticClass:"el-icon-success"},[t._v("已选择试卷")]):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"商品规格：",prop:"spec"}},[a("el-input",{staticClass:"item",attrs:{disabled:"",size:"small"},model:{value:t.formValidate.spec,callback:function(e){t.$set(t.formValidate,"spec",e)},expression:"formValidate.spec"}}),t._v("\n            张试卷\n        ")],1),t._v(" "),a("el-form-item",{attrs:{label:"商品图片："}},[a("el-upload",{attrs:{action:t.actionUrl,"list-type":"picture-card","show-file-list":"",limit:4,"before-upload":t.beforeAvatarUpload,"on-success":t.uploadSuccess}},[a("i",{staticClass:"el-icon-plus"}),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，图片分辨率不小于550*550且不超过2M")])]),t._v(" "),t._l(t.fileList,function(e,i){return a("el-radio",{key:i,staticStyle:{"margin-left":"48px"},attrs:{label:e.response},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("设置为主图\n            ")])})],2),t._v(" "),a("el-form-item",{attrs:{label:"商品介绍：",prop:"remark"}},[a("el-input",{attrs:{size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.remark,callback:function(e){t.$set(t.formValidate,"remark",e)},expression:"formValidate.remark"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品内容：",prop:"content"}},[a("el-input",{attrs:{size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.content,callback:function(e){t.$set(t.formValidate,"content",e)},expression:"formValidate.content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品目标：",prop:"target"}},[a("el-input",{attrs:{size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.target,callback:function(e){t.$set(t.formValidate,"target",e)},expression:"formValidate.target"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品优势：",prop:"advantage"}},[a("el-input",{attrs:{size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.advantage,callback:function(e){t.$set(t.formValidate,"advantage",e)},expression:"formValidate.advantage"}})],1),t._v(" "),a("p",{staticClass:"title"},[t._v("添加至：")]),t._v(" "),a("el-form-item",{attrs:{label:"教材："}},[a("el-select",{attrs:{size:"small",filterable:"",placeholder:"请选择"},on:{change:t.getTextbookVersion},model:{value:t.textbookVersionId,callback:function(e){t.textbookVersionId=e},expression:"textbookVersionId"}},t._l(t.textbook,function(t,e){return a("el-option",{key:t.id,attrs:{label:t.name,value:t}})})),t._v(" "),a("br"),t._v(" "),t._l(t.textbookVersionList,function(e){return a("el-tag",{key:e.id,attrs:{closable:""},on:{close:function(a){t.handleClose(e)}}},[t._v("\n                "+t._s(e.name)+"\n            ")])})],2),t._v(" "),a("el-form-item",{attrs:{label:"年级：",prop:"grade"}},[a("el-select",{attrs:{size:"small",placeholder:""},on:{change:t.changGrade},model:{value:t.formValidate.grade,callback:function(e){t.$set(t.formValidate,"grade",e)},expression:"formValidate.grade"}},[a("grade-option-list")],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"科目："}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.changeSubject},model:{value:t.formValidate.subject,callback:function(e){t.$set(t.formValidate,"subject",e)},expression:"formValidate.subject"}},t._l(t.subjectList,function(t,e){return a("el-option",{key:e,attrs:{label:t.value,value:t.code}})}))],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("load-btn",{attrs:{btnData:t.loadBtn},on:{listenSubEvent:t.listenSubEvent}}),t._v(" "),a("el-button",{staticClass:"tableMakeItemCancel",attrs:{size:"small"},on:{click:t.cancle}},[t._v("取消")])],1)],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"1000",title:"添加商品","class-name":"vertical-center-modal",loading:t.loading},model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[a("modal-header",{attrs:{slot:"header",content:t.addId},slot:"header"}),t._v(" "),t.addModal?a("test-list",{on:{cancel:t.close,choice:t.subCallback}}):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)},l=[],s={render:i,staticRenderFns:l};e.a=s},oZT0:function(t,e,a){var i=a("QGR/");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("5114fc78",i,!0)},pgv1:function(t,e,a){var i=a("B5Tp");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("823e268a",i,!0)},r6jS:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,'.clearfix[data-v-3277adfd]:after{content:" ";display:block;clear:both;height:0}.clearfix[data-v-3277adfd]{zoom:1}.el-col-20[data-v-3277adfd]{width:86%;margin-left:1%}#menu[data-v-3277adfd]{overflow-y:scroll}.btn-lable[data-v-3277adfd]{font-size:16px}',""])},raEb:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=a("ONPJ"),s=i(l),o=a("UNU2"),r=i(o),n=a("YSqL"),d=i(n),c=null;e.default={props:["operailityData"],data:function(){return{resourceHttp:"",formValidate:{id:"",status:""},showId:{id:"show",title:"评价列表"}}},created:function(){this.init()},methods:{init:function(){c=this.$util,this.resourceHttp=this.$store.getters["app/envs"]("resourceHttp"),this.ajax({ajaxSuccess:this.getData,ajaxParams:{url:r.default.get.path+"?id="+this.operailityData.id,method:r.default.get.method}})},getData:function(t){this.formValidate=t.data,this.formValidate.imgs&&(this.formValidate.imgs=this.formValidate.imgs.split(","))},show:function(){this.openModel("show")},cancel:function(t){this[t+"Modal"]=!1},openModel:function(t){this[t+"Modal"]=!0}},components:{show:s.default,auditProcess:d.default}}},"rb+4":function(t,e,a){var i=a("k/Zb");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("13addd2c",i,!0)},sF6k:function(t,e,a){var i=a("3Lgh");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("981688ea",i,!0)},saxw:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=a("bOdI"),s=i(l),o=a("P6LQ"),r=i(o),n=a("vDYm"),d=i(n),c=a("YBhn"),u=i(c),f=a("UmnI"),p=a("zlKu"),m=i(p),h=a("mnwJ"),v=(i(h),null);e.default={props:["that"],data:function(){var t,e=this;return t={rules:f.add,self:!1,fileList:[],papersArr:[],radio:"",knowledgeIds:"",loading:!1,knowledgeIdArr:[],knowledgeList:[],textbookVersionId:"",textbookVersionList:[],actionUrl:this.$util.urlPrefix+"/file/uploadImg",formValidate:{title:"",subtitle:"",press:"",papers:"",originalPrice:"",discount:"10",currentPrice:"",unit:"0",types:"100",sales:"",stocks:"",textbookVersionId:"",stage:"0",subject:"",grade:"1",chapterId:"",tags:"",spec:"",icon:"",imgs:"",remark:"",content:"",target:"",advantage:""},chapterList:[],subjectList:[],loadBtn:{title:"提交",callParEvent:"listenSubEvent"}},(0,s.default)(t,"fileList",[]),(0,s.default)(t,"textbook",[]),(0,s.default)(t,"addId",{id:"add",title:"选择试卷"}),(0,s.default)(t,"addMessTitle",{type:"add",callback:"close",successTitle:"添加成功!",errorTitle:"添加失败!",ajaxSuccess:function(t){return e.$emit("add","add","添加成功!")},ajaxError:"ajaxError",ajaxParams:{url:u.default.add.path,method:u.default.add.method}}),t},created:function(){this.init()},methods:{init:function(){var t=this;v=this.$util,this.ajax({ajaxSuccess:function(e){return t.textbook=e.data},ajaxParams:{url:u.default.getTextbook.path,method:u.default.getTextbook.method}}),this.subjectList=this.$store.getters["app/gradeMap"](1)},getKnowledges:function(){var t=this;this.ajax({ajaxSuccess:function(e){return t.knowledgeIdArr=e.data},ajaxParams:{url:"/papers/queryKnowledgeList?paperIds="+this.formValidate.papers,method:"get"}})},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/jpg"===t.type||"image/png"===t.type,a=t.size/1024/1024<2,i=t.size/1024>30;return e||this.$Notice.warning({title:"只能上传图片",desc:"格式为: JPG、png 格式!"}),a||this.$Notice.warning({title:"超出文件大小限制",desc:"上传头像图片 "+t.name+" 太大，不能超过 2MB!"}),i||this.$Notice.warning({title:"文件大小限制",desc:"上传头像图片 "+t.name+" 分辨率太小，不能小于550 * 550像素"}),e&&a&&i},handleClose:function(t){this.textbookVersionList.splice(this.textbookVersionList.indexOf(t),1)},getTextbookVersion:function(t){this.textbookVersionId=t.name,this.textbookVersionList.indexOf(t)>0&&this.textbookVersionList.length<11||this.textbookVersionList.push(t)},getknowledgeIds:function(t){this.knowledgeIds=t.name,this.knowledgeList.indexOf(t)>0&&this.knowledgeList.length<11||this.knowledgeList.push(t)},changeSubject:function(t){this.formValidate.subject=t},changeChapter:function(t){var e=this;this.ajax({ajaxSuccess:function(t){return e.chapterList=t.data},ajaxParams:{url:"/textbookContent/queryChapterList",method:"get",params:{textbookVersionId:this.formValidate.textbookVersionId,subject:this.formValidate.subject,grade:this.formValidate.grade,term:this.formValidate.term}}})},changGrade:function(t){this.subjectList=this.$store.getters["app/gradeMap"](t)},stageChange:function(){"0"==this.formValidate.stage?this.formValidate.grade="1":"1"==this.formValidate.stage?this.formValidate.grade="7":this.formValidate.grade="10"},choice:function(){this.addModal=!0},subCallback:function(t){this.addModal=!1,this.papersArr=this.papersArr.concat(t.ids),this.formValidate.grade=String(t.grade),this.formValidate.subject=t.subject,this.formValidate.spec=t.ids.length,this.formValidate.papers=v.unique(this.papersArr).join(),this.getKnowledges()},uploadSuccess:function(t,e,a){this.fileList=a,this.radio=this.fileList[0].response},close:function(t){this[t+"Modal"]=!1},cancle:function(){this.$emit("cancel","add")},getImgs:function(){var t=[];this.fileList.map(function(e){t.push(e.response.data)}),this.formValidate.imgs=t.join(",")},submitForm:function(t){var e=!1;return this.$refs[t].validate(function(t){t&&(e=!0)}),e},listenSubEvent:function(t){if(this.getImgs(),this.submitForm("formValidate")){this.formValidate.icon=this.radio.data;var e=[];if(this.textbookVersionList.map(function(t){e.push(t.id)}),0==this.textbookVersionList.length)return this.errorMess("请选择教材！"),!1;this.formValidate.textbookVersionId=e.join(),this.formValidate.discount=10*this.formValidate.discount,this.formValidate.currentPrice=Math.round(this.formValidate.originalPrice*this.formValidate.discount/100),t||(t=function(){}),t(!0),this.addMessTitle.ajaxParams.data=this.getFormData(this.formValidate),this.ajax(this.addMessTitle,t)}},getFormData:function(t){return v._.defaultsDeep({},t)}},components:{testList:m.default,productTypeOption:d.default,gradeOptionList:r.default}}},spsR:function(t,e,a){var i=a("r6jS");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("5da7f8e0",i,!0)},tkUg:function(t,e,a){var i=a("UcnB");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("5001f19c",i,!0)},u6zY:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".el-input[data-v-3ce9439b]{width:60%}.title[data-v-3ce9439b]{font-size:20px;line-height:40px}.item[data-v-3ce9439b]{width:195px}",""])},uh4x:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=null;e.default={data:function(){return{gradeList:[]}},methods:{init:function(){i=this.$util,this.gradeList=this.$store.getters["app/envs"]("gradeMap")}},created:function(){this.init()},mounted:function(){},components:{}}},up53:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cggs-content"},[t.formValidate.icon?a("img",{staticClass:"img",attrs:{src:t.resourceHttp+t.formValidate.icon,alt:"",width:"260",height:"300"}}):t._e(),t._v(" "),a("el-form",{ref:"formValidate",attrs:{model:t.formValidate,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品标题："}},[t._v("\n            "+t._s(t.formValidate.title)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"商品副标题："}},[t._v("\n            "+t._s(t.formValidate.subtitle)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"出版社："}},[t._v("\n            "+t._s(t.formValidate.press)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"商品编号："}},[t._v("\n            "+t._s(t.formValidate.no)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"价格："}},[t._v("\n          "+t._s(t._f("money")(t.formValidate.originalPrice||0))+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"销量："}},[t._v("\n            "+t._s(t.formValidate.sales)+"\n        ")]),t._v(" "),a("el-form-item",{attrs:{label:"规格："}},[t._v("\n            "+t._s(t.formValidate.spec)+"\n        ")]),t._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.show}},[t._v("查看评价")])],1),t._v(" "),a("el-form-item",{attrs:{label:"商品图片："}},[t.formValidate.imgs?a("div",{staticClass:"img-wrap"},t._l(t.formValidate.imgs,function(e,i){return a("img",{key:i,attrs:{src:t.resourceHttp+e,alt:"",width:"100",height:"120"}})})):a("span",[t._v("无商品图片")])]),t._v(" "),a("el-form-item",{attrs:{label:"商品介绍："}},[a("el-input",{attrs:{disabled:"",size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.remark,callback:function(e){t.$set(t.formValidate,"remark",e)},expression:"formValidate.remark"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品内容："}},[a("el-input",{attrs:{disabled:"",size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.content,callback:function(e){t.$set(t.formValidate,"content",e)},expression:"formValidate.content"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品目标："}},[a("el-input",{attrs:{disabled:"",size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.target,callback:function(e){t.$set(t.formValidate,"target",e)},expression:"formValidate.target"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品优势："}},[a("el-input",{attrs:{disabled:"",size:"small",rows:4,type:"textarea"},model:{value:t.formValidate.advantage,callback:function(e){t.$set(t.formValidate,"advantage",e)},expression:"formValidate.advantage"}})],1)],1),t._v(" "),~[0,2].indexOf(t.formValidate.status)?a("audit-process",{attrs:{id:t.formValidate.id}}):t._e(),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"1000",title:"添加商品","class-name":"vertical-center-modal"},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("modal-header",{attrs:{slot:"header",content:t.showId},slot:"header"}),t._v(" "),t.showModal?a("show",{attrs:{"operaility-data":t.formValidate},on:{cancel:t.cancel}}):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)},l=[],s={render:i,staticRenderFns:l};e.a=s},vDYm:function(t,e,a){"use strict";function i(t){a("iGtQ")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("GPk1"),s=a.n(l),o=a("81bE"),r=a("VU/8"),n=i,d=r(s.a,o.a,!1,n,null,null);e.default=d.exports},vvYo:function(t,e,a){"use strict";function i(t){a("sF6k")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("Efy/"),s=a.n(l),o=a("C80P"),r=a("VU/8"),n=i,d=r(s.a,o.a,!1,n,null,null);e.default=d.exports},xF0q:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,'.clearfix[data-v-4abba884]:after{content:" ";display:block;clear:both;height:0}.clearfix[data-v-4abba884]{zoom:1}.el-col-20[data-v-4abba884]{width:86%;margin-left:1%}#menu[data-v-4abba884]{overflow-y:scroll}.btn-lable[data-v-4abba884]{font-size:16px}',""])},yzr8:function(t,e,a){var i=a("Y2Uo");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("4f6bf396",i,!0)},zlKu:function(t,e,a){"use strict";function i(t){a("ZLk2")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("Z7aR"),s=a.n(l),o=a("hTcy"),r=a("VU/8"),n=i,d=r(s.a,o.a,!1,n,null,null);e.default=d.exports}});